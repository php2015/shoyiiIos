{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/shoyiiChat/chatWindow.vue?0353","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/shoyiiChat/chatWindow.vue?1bf5","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/shoyiiChat/chatWindow.vue?67da","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/shoyiiChat/chatWindow.vue?9739","uni-app:///pages/shoyiiChat/chatWindow.vue","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/shoyiiChat/chatWindow.vue?df86"],"names":["createPage","Page","renderjs","component","options","__file","components","uNavbar","uIcon","uRow","uCol","uImage","uLoadmore","lFile","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","l0","_self","_c","__map","lastestChat","item","index","$orig","__get_orig","f0","sendTime","_f","g0","msgType","JSON","parse","content","g1","g2","g3","previewImage","g4","g5","m0","filesuffix","m1","m2","g6","g7","g8","g9","g10","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":"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A,2BAIA,mCACA,uBACA,mBACA,MAEA,yBACA,eACA,gBAEA,uBACA,iBAEA,mBAIA,iBACA,+BACA,+BAEA,SACA,2BAEA,SAEA,YAFA,SAEA,KAgBA,UAlBA,WAkBA,WACA,4CACA,kCACA,sBACA,wBACA,oBACA,QAEA,SA1BA,WA2BA,oBACA,cACA,8DAKA,WAlCA,SAkCA,GACA,kEACA,6DACA,oEACA,WAMA,UA5CA,SA4CA,GAcA,GAbA,yBACA,eACA,wBAWA,eAQA,GAPA,0BAMA,yBACA,aAOA,OACA,mBACA,iBACA,uBACA,0BACA,2BACA,YACA,gCAEA,eACA,8DAhBA,aACA,cACA,mBARA,gBAyBA,aAtFA,SAsFA,GACA,SACA,sCACA,gBACA,qBAGA,gBACA,kBACA,OACA,QAHA,SAGA,GACA,gBAEA,KANA,SAMA,GACA,mBAIA,aAxGA,WAyGA,kBACA,iDACA,KACA,2BACA,sDAIA,UAjHA,SAiHA,GACA,cACA,2CACA,0BAIA,QAxHA,WAyHA,+BACA,YACA,+CAEA,QA7HA,SA6HA,GAEA,qDACA,sBACA,YACA,YACA,mBACA,2CAEA,wCAIA,WA1IA,SA0IA,cACA,oBAOA,6BACA,+BACA,uBACA,gBACA,MAIA,UA1JA,WA0JA,WACA,kBACA,uBACA,gBACA,MAEA,YAhKA,SAgKA,KACA,eACA,eACA,WACA,eACA,QACA,mCACA,aACA,QAJA,SAIA,GACA,eACA,sBACA,YACA,uBACA,cACA,kDACA,cACA,WACA,UACA,wBAEA,YACA,oBACA,yBAEA,GADA,eACA,WACA,qBACA,yBACA,OACA,gBACA,iBACA,oBACA,kBACA,wBACA,YACA,gCAEA,eACA,2DAEA,aACA,YACA,eAIA,iBACA,sBAKA,KA/CA,SA+CA,GACA,mBAKA,SAzNA,SAyNA,cACA,qCAaA,sBACA,mBAEA,MAEA,SACA,sBAKA,YAJA,aACA,eACA,cAIA,2IACA,8BAKA,YAJA,aACA,eACA,cAIA,OACA,mBACA,iBACA,uBACA,kBACA,2BACA,YACA,8BAEA,eACA,8DACA,SACA,gBACA,2BACA,SACA,aACA,2BACA,MACA,kBAOA,yBAKA,uDAOA,MACA,2BACA,wBACA,0BAEA,sBAEA,uBACA,mBACA,OAEA,wBACA,2BAEA,kBAEA,uBACA,mBACA,WAxFA,aAMA,sBACA,eAqFA,YAvTA,SAuTA,GACA,eACA,2CACA,cACA,kDAIA,SA/TA,SA+TA,GACA,4CACA,eACA,eACA,YACA,cAEA,gBACA,MACA,QAFA,SAEA,GACA,eACA,oBACA,oBACA,gBAEA,gBACA,wBACA,oBACA,2BAIA,gBACA,sBAGA,KAnBA,SAmBA,GACA,gBACA,mBAKA,WAhWA,SAgWA,GACA,0CACA,cACA,2CACA,0BAIA,SAxWA,SAwWA,kBACA,gBAEA,sBACA,iBACA,uBACA,kBACA,2BACA,UACA,cACA,kBACA,eACA,eACA,gBACA,4BACA,KACA,2CACA,OACA,8EAGA,eACA,kBAEA,aACA,iBACA,iBAGA,mBACA,mBAIA,SA1YA,SA0YA,eACA,oBACA,kBACA,kBAEA,GADA,eACA,gBACA,cACA,8BAEA,aACA,iBACA,iBAGA,mBACA,mBAGA,YA5ZA,WA6ZA,YACA,uCAGA,YAjaA,WAiaA,WACA,uBACA,mBACA,MAGA,gBAvaA,WAuaA,WACA,uBACA,mBACA,MAGA,YA7aA,SA6aA,iBACA,kBACA,QACA,WACA,kBACA,eACA,gBACA,oCACA,iBAEA,WADA,OACA,sCAEA,oBAGA,aACA,iBACA,iBAGA,mBACA,mBAGA,QArcA,SAqcA,iBACA,kBACA,aACA,eACA,WACA,OACA,SACA,kBACA,eACA,gBACA,gCACA,aAEA,WADA,OACA,sCAEA,oBAGA,aACA,iBACA,iBAGA,mBACA,mBAIA,SAjeA,WAieA,WACA,mCACA,uBACA,gBACA,OAIA,yBAnkBA,SAmkBA,GACA,eACA,uBACA,oBACA,cACA,8DAKA,OA7kBA,SA6kBA,GACA,eACA,kBACA,iBACA,qBACA,0BACA,yBACA,oBAEA,iBAEA,wBACA,qBACA,yBAEA,4BACA,YAEA,uBAGA,yBAGA,sBAEA,oB;;;;2DCzwBA,m2BAAihD,eAAG,G","file":"pages/shoyiiChat/chatWindow.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/shoyiiChat/chatWindow.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./chatWindow.vue?vue&type=template&id=ad611112&scoped=true&\"\nvar renderjs\nimport script from \"./chatWindow.vue?vue&type=script&lang=js&\"\nexport * from \"./chatWindow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chatWindow.vue?vue&type=style&index=0&id=ad611112&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ad611112\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/shoyiiChat/chatWindow.vue\"\nexport default component.exports","export * from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatWindow.vue?vue&type=template&id=ad611112&scoped=true&\"","var components\ntry {\n  components = {\n    uNavbar: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-icon/u-icon\" */ \"@/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uRow: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-row/u-row\" */ \"@/uview-ui/components/u-row/u-row.vue\"\n      )\n    },\n    uCol: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-col/u-col\" */ \"@/uview-ui/components/u-col/u-col.vue\"\n      )\n    },\n    uImage: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-image/u-image\" */ \"@/uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    uLoadmore: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-loadmore/u-loadmore\" */ \"@/uview-ui/components/u-loadmore/u-loadmore.vue\"\n      )\n    },\n    lFile: function() {\n      return import(\n        /* webpackChunkName: \"components/l-file/l-file\" */ \"@/components/l-file/l-file.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.lastestChat, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var f0 = (index - 1 >= 0\n    ? _vm.lastestChat[index - 1].sendTime < item.sendTime - 300000\n    : true)\n      ? _vm._f(\"relativtime\")(item.sendTime)\n      : null\n    var g0 = item.msgType == \"3\" ? JSON.parse(item.content) : null\n    var g1 = item.msgType == \"3\" ? JSON.parse(item.content) : null\n    var g2 = item.msgType == \"3\" ? JSON.parse(item.content) : null\n    var g3 =\n      item.msgType == \"3\" && g2.previewImage ? JSON.parse(item.content) : null\n    var g4 = item.msgType == \"3\" ? JSON.parse(item.content) : null\n    var g5 = item.msgType == \"4\" ? JSON.parse(item.content) : null\n    var m0 = item.msgType == \"4\" ? _vm.filesuffix(item) : null\n    var m1 =\n      item.msgType == \"4\" && !(m0 == \"mp3\")\n        ? _vm.filesuffix(item) == \"pdf\" || _vm.filesuffix(item) == \"zip\"\n        : null\n    var m2 =\n      item.msgType == \"4\" && !(m0 == \"mp3\")\n        ? item.m1 || _vm.filesuffix(item) == \"docx\"\n        : null\n    var g6 = item.msgType == \"5\" ? JSON.parse(item.content) : null\n    var g7 = item.msgType == \"5\" ? JSON.parse(item.content) : null\n    var g8 = item.msgType == \"5\" ? JSON.parse(item.content) : null\n    var g9 = item.msgType == \"5\" ? JSON.parse(item.content) : null\n    var g10 =\n      item.msgType == \"5\" && g9.previewImage ? JSON.parse(item.content) : null\n    return {\n      $orig: $orig,\n      f0: f0,\n      g0: g0,\n      g1: g1,\n      g2: g2,\n      g3: g3,\n      g4: g4,\n      g5: g5,\n      m0: m0,\n      m1: m1,\n      m2: m2,\n      g6: g6,\n      g7: g7,\n      g8: g8,\n      g9: g9,\n      g10: g10\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatWindow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatWindow.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"wechatItem\">\r\n\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t<u-navbar :title=\"navTitle\" :background='background'>\r\n\t\t\t<view slot=\"right\" style=\"padding-right:10rpx;\">\r\n\t\t\t\t<u-icon @click='addGroup' name=\"more-dot-fill\" size=\"44\"></u-icon>\r\n\t\t\t</view>\r\n\t\t</u-navbar>\r\n\t\t<!-- #endif -->\n\t\t<!-- 病例，只有群组里才有 -->\r\n\t\t<view class=\"caseheader\">\r\n\t\t\t<view class=\"header\" justify=\"center\" v-if=\"caseid\">\r\n\t\t\t\t<u-row gutter=\"16\" class='headerRow' @click='enterCase(caselist.caseHistoryId)'>\r\n\t\t\t\t\t<u-col span=\"3\">\r\n\t\t\t\t\t\t<view class=\"caseimage\">\r\n\t\t\t\t\t\t\t<u-image v-if='caselist.previewImage' width=\"100rpx\" height=\"100rpx\" :show-error='false' :src=\"caselist.previewImage\" mode=\"aspectFit\"></u-image>\r\n\t\t\t\t\t\t\t<u-image v-else width=\"100rpx\" height=\"100rpx\" src=\"/static/image/shoyiilogo.png\" mode=\"aspectFit\"></u-image>\t\t\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</u-col>\r\n\t\t\t\t\t<u-col span=\"4\">\r\n\t\t\t\t\t\t<view class=\"case\">\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<text>病历名称：</text>\r\n\t\t\t\t\t\t\t\t<text>{{caselist.name}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<text>简介：</text>\r\n\t\t\t\t\t\t\t\t<text>{{caselist.title}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</u-col>\r\n\t\t\t\t\t<u-col span=\"5\">\r\n\t\t\t\t\t\t<view class=\"case\">\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<text>病历号：</text>\r\n\t\t\t\t\t\t\t\t<text>{{caselist.caseHistoryNo}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t\t\t\t<text>创建时间：</text>\r\n\t\t\t\t\t\t\t\t<text>{{caselist.createTime}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</u-col>\r\n\t\t\t\t</u-row>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<scroll-view class=\"section\" :adjust-position='true' scroll-top='50' :scroll-into-view=\"chatIndex\" :scroll-y=\"true\" @scrolltoupper='toupper' upper-threshold=\"50\">\n\t\t\t<u-loadmore :status=\"status\" :is-dot='true' :load-text=\"loadText\"/>\n\t\t\t<view class=\"section-item\" :style=\"{paddingBottom:scrollHeight+'px'}\">\n\t\t\t\t<view v-for=\"(item,index) in lastestChat\" :key='index' :id=\"'chatIndex'+item.id\">\n\t\t\t\t\t<text class=\"time\" v-if=\"index-1 >= 0 ? lastestChat[index-1].sendTime < item.sendTime - 300000 : true\">{{item.sendTime|relativtime}}</text>\n\t\t\t\t\t<view class=\"chatlist\" :class=\"item.userId==userId?'alluser':'allother'\">\n\t\t\t\t\t\t<u-image class='image' style='border: 1px solid #F8F8F8;' width='80' height='80'  :src=\"item.userProfile\" mode='aspectFit'>\n\t\t\t\t\t\t\t<view slot=\"error\" style=\"\">\n\t\t\t\t\t\t\t\t<u-image width='80rpx' height='80rpx' src='/static/image/person.png' mode=\"aspectFit\"></u-image>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</u-image>\n\t\t\t\t\t\t<view style=\"color: #000000;max-width: 500rpx;\" :class=\"item.userId==userId?'userCord':'otherCord'\">\n\t\t\t\t\t\t\t<!-- 文本信息 -->\n\t\t\t\t\t\t\t<view :class=\"item.userId==userId?'TextuserCord':'TextotherCord'\" v-if=\"item.msgType=='1'\">\n\t\t\t\t\t\t\t\t<text selectable='true'>{{item.content}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<!-- 方法库数据 -->\n\t\t\t\t\t\t\t<view @click=\"enterDetail(item)\" class=\"surgicalCode\" v-if=\"item.msgType=='3'\">\n\t\t\t\t\t\t\t\t<view class=\"s_header\" style=\"\">\r\n\t\t\t\t\t\t\t\t\t<text>{{JSON.parse(item.content).surgicalPlanName}}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"s_section\" style=\"\">\n\t\t\t\t\t\t\t\t\t<text class=\"content\" style=\"\">{{JSON.parse(item.content).title}}</text>\n\t\t\t\t\t\t\t\t\t<image lazy-load class=\"image\" v-if=\"JSON.parse(item.content).previewImage\" :src=\"JSON.parse(item.content).previewImage\" mode=\"aspectFit\"></image>\n\t\t\t\t\t\t\t\t\t<image lazy-load class=\"image\" v-else src=\"/static/image/shoyiilogo.png\" mode=\"aspectFit\"></image>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"s_footer\" style=\"\">\n\t\t\t\t\t\t\t\t\t<image lazy-load class=\"image\" style=\"\" src=\"/static/image/shoyiilogo.png\" mode=\"aspectFit\"></image>\n\t\t\t\t\t\t\t\t\t<text class=\"name\">{{JSON.parse(item.content).doctorName}}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<!-- 图片 -->\n\t\t\t\t\t\t\t<view class=\"cordimages\" v-if=\"item.msgType=='2'\" @click=\"previewImage(item)\">\r\n\t\t\t\t\t\t\t\t<u-image class=\"chatimage\" height=\"300rpx\" :src=\"item.content\" mode=\"aspectFit\"></u-image>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"cordfile\" v-if=\"item.msgType=='4'\" @click=\"openFile(item)\">\n\t\t\t\t\t\t\t\t<view class=\"title\" style=\"\">\n\t\t\t\t\t\t\t\t\t<text>{{JSON.parse(item.content).name}}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"\" v-if=\"filesuffix(item)=='mp3'\">\r\n\t\t\t\t\t\t\t\t    <u-icon name=\"play-circle-fill\" size='100' color='#86B0D4'></u-icon>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"\"\r\n\t\t\t\t\t\t\t\t      v-else-if=\"filesuffix(item)=='pdf'||filesuffix(item)=='zip'||filesuffix(item)=='docx'\">\r\n\t\t\t\t\t\t\t\t    <u-icon name=\"file-text-fill\" size='100' color='#fa3534'></u-icon>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"\" v-else>\r\n\t\t\t\t\t\t\t\t    <u-icon name=\"file-text-fill\" size='100' color='#999'></u-icon>\r\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"surgicalCode\" v-if=\"item.msgType=='5'\" @click=CaseDetail(item)>\r\n\t\t\t\t\t\t\t\t<view class=\"s_header\" style=\"\">\r\n\t\t\t\t\t\t\t\t\t<text>{{JSON.parse(item.content).name||JSON.parse(item.content).caseHistoryNo||'暂无数据'}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"s_section\" style=\"\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"content\" style=\"\">{{JSON.parse(item.content).title||'暂无数据'}}</text>\r\n\t\t\t\t\t\t\t\t\t<image lazy-load class=\"image\" v-if=\"JSON.parse(item.content).previewImage\" :src=\"JSON.parse(item.content).previewImage\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t\t\t\t<image lazy-load class=\"image\" v-else src=\"/static/image/shoyiilogo.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"s_footer\">\r\n\t\t\t\t\t\t\t\t\t<image lazy-load class=\"image\" src=\"/static/image/shoyiilogo.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t\t\t\t\t<text class=\"name\">树蚁医生</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t </view>\n\t\t\t\t\t\t<view class=\"\" style=\"width: 80rpx;\"></view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\r\n\t\t\t<!-- 安全距离 -->\r\n\t\t\t<view class=\"empty\"></view>\n\t\t</scroll-view>\n\t\t<l-file ref=\"lFile\" @up-success=\"onSuccess\"></l-file>\n\t\t<view class=\"footer\" :style=\"{paddingBottom:keyHeight+'px'}\">\n\t\t\t<view class=\"inputItem\">\r\n\t\t\t\t<!-- #ifdef APP-PLUS-->\r\n\t\t\t\t<view class=\"record\" style=\"padding-right: 20rpx;\"  @click=\"startRecord\">\r\n\t\t\t\t\t<u-icon color=\"#999\" size=\"70\" name=\"mic\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t\t <textarea :adjust-position='false' :auto-blur='true' @focus='Inputfocus' @blur=\"Inputblur\" cursor-spacing='10' :hold-keyboard='true' :show-confirm-bar='false' maxlength='250' class=\"input\" :auto-height='true' v-model=\"InputContent\"></textarea>\r\n\t\t\t\t <view v-if=\"sendBool\" class='sendBtn' @touchend.prevent=\"sendItem(0)\">\r\n\t\t\t\t \t<text>发送</text>\r\n\t\t\t\t </view>\r\n\t\t\t\t <view v-else @click=\"moreplus\" style=\"padding-left: 20rpx;\">\r\n\t\t\t\t \t<u-icon name=\"plus-circle\" color=\"#999\" size=\"70\"></u-icon>\r\n\t\t\t\t </view>\n\t\t\t</view>\r\n\t\t\t<view :class=\"{displaynone:moreboolean}\">\n\t\t\t\t<view class=\"moreFunction\">\r\n\t\t\t\t\t<view class=\"item\" v-for=\"(item,index) in menu\" :key='index'>\r\n\t\t\t\t\t\t<view class=\"icon\">\r\n\t\t\t\t\t\t\t<text @click=\"sendItem(index+1)\" :class=\"item.icon\" class=\"iconfont\"></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"tip\">{{item.title}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 方法库 -->\n\t\t<surgical-popup ref='Sonshow' :chatId='chatId' :type='type' @addPage='addPage' :page=\"surgicalPage\" :total=\"surgicalTotal\" :otherId='otherid' :surgical='surgical' @refleshData='refleshData'></surgical-popup>\n\t\t<!-- 病例 -->\r\n\t\t<case-popup ref='caseshow' :chatId='chatId' :type='type' @addcasePage='addcasePage' :page=\"casePage\" :total=\"caseTotal\" :otherId='otherid' :caseList='caseList' @caserefleshData='caserefleshData'></case-popup>\r\n\t</view>\n</template>\n\n<script>\n\timport {sendMessage,findchatLastest} from '@/utill/api/connect/connect.js'\n\timport {getcasedetail} from '@/utill/api/case/getcasedetail.js'\r\n\timport {getCaselist} from '@/utill/api/case/getCaselist.js'\n\timport {relativtime} from '@/utill/tools/timestamp.js'\n\timport {getSurgical} from '@/utill/api/surgical/getSurgical.js'\n\timport {mapGetters,mapState} from 'vuex' \n\timport surgicalPopup from './components/surgicalPopup.vue'\r\n\timport casePopup from './components/casePopup.vue'\r\n\timport {getFileExtension} from '@/utill/tools/filesuffix.js'\n\texport default{\n\t\tcomponents:{\n\t\t\tsurgicalPopup,\r\n\t\t\tcasePopup\n\t\t},\n\t\tdata(){\n\t\t\treturn{\r\n\t\t\t\tmenu:[\r\n\t\t\t\t\t{title:'相册',icon:'icontupian'},\r\n\t\t\t\t\t{title:'拍摄',icon:'iconxiangji1'},\r\n\t\t\t\t\t{title:'文件',icon:'iconwenjian'},\r\n\t\t\t\t\t{title:'方法库',icon:'iconshoushufangfa'},\r\n\t\t\t\t\t{title:'病例',icon:'iconfasongbingli'},\r\n\t\t\t\t],\n\t\t\t\tstatus:'nomore',\n\t\t\t\tloadText: {\n\t\t\t\t\tloadmore: '轻轻下拉',\n\t\t\t\t\tloading: '',\n\t\t\t\t\tnomore: '没有更多' //默认是圆点\n\t\t\t\t},\n\t\t\t\totherid:null,//其他人id\n\t\t\t\tuserId:uni.getStorageSync('doctorId'),\r\n\t\t\t\tcaseid:'',\n\t\t\t\tInputContent:'',//输入的内容\n\t\t\t\tlastestChat:[],\n\t\t\t\tpage:1,\n\t\t\t\ttotal:1,//聊天记录总页数\r\n\t\t\t\tsurgicalPage:1,\r\n\t\t\t\tsurgicalTotal:1,\n\t\t\t\tmark:0,\n\t\t\t\tsurgical:[],//手术方法库数据\n\t\t\t\ttype:null,\n\t\t\t\tcaselist:{},\n\t\t\t\tchatIndex:'',\n\t\t\t\tchatId:'',//每一条记录的id\n\t\t\t\tpictureid:'',\n\t\t\t\tfileId:'',//上传文件的id\r\n\t\t\t\tnavTitle:'',\r\n\t\t\t\tbackground:{\r\n\t\t\t\t\tbackground:'#f8f8f8'\r\n\t\t\t\t},\r\n\t\t\t\tmoreboolean:true,\r\n\t\t\t\tscrollHeight:90,\r\n\t\t\t\tkeyHeight:10,\r\n\t\t\t\tsendBool:false,//是否显示发送按钮\r\n\t\t\t\tcaseList:[],//病例数据\r\n\t\t\t\tcasePage:1,\r\n\t\t\t\tcaseTotal:1,\n\t\t\t}\n\t\t},\r\n\t\twatch:{\r\n\t\t\t'socketData': function(val) {\r\n\t\t\t\tconsole.log('watch聊天时监听')\r\n\t\t\t\tconsole.log(val)\r\n\t\t\t\tif(val=='head'){//心跳回复\r\n\t\t\t\t\t\r\n\t\t\t\t}else if(JSON.parse(val).friend_request){//请求的通知\r\n\t\t\t\t\tconsole.log(JSON.parse(val).friend_request)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.InputContent=''\r\n\t\t\t\t\tvar receiveData=JSON.parse(val).chatMsgDetail\r\n\t\t\t\t\tconsole.log(receiveData)\r\n\t\t\t\t\tif(this.chatId==receiveData.chatId){\r\n\t\t\t\t\t\tthis.lastestChat.push(receiveData)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'lastestChat':function(val){\r\n\t\t\t\tsetTimeout(()=>{ //滚动到底部\r\n\t\t\t\t\tthis.pageToBottom();\r\n\t\t\t\t},200)\r\n\t\t\t},\r\n\t\t\t\"InputContent\":function(val){\r\n\t\t\t\tvar reg = \"^[ ]+$\";\r\n\t\t\t\tvar space = new RegExp(reg);\r\n\t\t\t\t// console.log(space.test(val)) //空格为true\r\n\t\t\t\tif(val.length==0||space.test(val)){ //不存在\r\n\t\t\t\t\tthis.sendBool=false\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.sendBool=true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\n\t\tcomputed:{\n\t\t\t...mapGetters(['connect']),\r\n\t\t\t...mapState(['socketData']),\n\t\t},\r\n\t\tfilters:{\n\t\t\trelativtime\n\t\t},\n\t\tmethods:{\r\n\t\t\t// 开始录音\r\n\t\t\tstartRecord(e) {\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tvar options={\r\n\t\t\t\t\tcontinue:false,\r\n\t\t\t\t\tengine:'baidu',\r\n\t\t\t\t\tpunctuation:false,\r\n\t\t\t\t\tuserInterface:true\r\n\t\t\t\t}\r\n\t\t\t\tplus.speech.startRecognize(options, (res)=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tthis.InputContent=res\r\n\t\t\t\t}, (Error)=>{\r\n\t\t\t\t\tconsole.log(Error)\r\n\t\t\t\t} );\r\n\t\t\t\t// #endif\r\n\t\t\t},  \r\n\t\t\tgetheight(){\r\n\t\t\t\tlet titleH=uni.createSelectorQuery().select(\".footer\");\r\n\t\t\t\ttitleH.boundingClientRect(data=>{\r\n\t\t\t\t\tconsole.log(data.height)\r\n\t\t\t\t\tthis.scrollHeight=data.height\r\n\t\t\t\t\tthis.pageToBottom();\r\n\t\t\t\t}).exec()\r\n\t\t\t},\r\n\t\t\taddGroup(){\r\n\t\t\t\tif(this.type=='GROUP'){//群聊\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl:'/pages/shoyiiChat/contactGroup?groupId='+this.otherid\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{}\r\n\t\t\t},\r\n\t\t\t// 文件尾缀获取\r\n\t\t\tfilesuffix(data) {\r\n\t\t\t    if (JSON.parse(data.content).fileDownloadUrl && JSON.parse(data.content)) {\r\n\t\t\t        getFileExtension(JSON.parse(data.content).fileDownloadUrl)\r\n\t\t\t        var dataBool = getFileExtension(JSON.parse(data.content).fileDownloadUrl)\r\n\t\t\t        return dataBool;\r\n\t\t\t    } else {\r\n\t\t\t        return\r\n\t\t\t    }\r\n\t\t\t},\n\t\t\t// 上传成功\n\t\t\tonSuccess(res) {\r\n\t\t\t\tconsole.log('上传文件的数据处理')\n\t\t\t\tconsole.log(res)\n\t\t\t\tconsole.log(res.fileName)\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tconsole.log('上传成功回调',JSON.parse(res.data.id));\r\n\t\t\t\tif(JSON.parse(res.data.id).code==0){\r\n\t\t\t\t\tthis.fileId=JSON.parse(res.data.id).object\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.fileId='';\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\tthis.fileId=res.data.object\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.fileId='';\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\n\t\t\t\tconsole.log(this.fileId)\n\t\t\t\tif(!this.fileId){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:'文件没上传',\n\t\t\t\t\t\ticon:'none'\n\t\t\t\t\t})\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar msg={\n\t\t\t\t\tchatId:this.chatId,\n\t\t\t\t\tsendUserType:'D',\n\t\t\t\t\tsendUserId:this.userId,\n\t\t\t\t\treceiveUserType:this.type,\n\t\t\t\t\treceiveUserId:this.otherid,\n\t\t\t\t\tmsgType:'4',\n\t\t\t\t\tmsgContent:String(this.fileId)\n\t\t\t\t}\n\t\t\t\tconsole.log(msg)\r\n\t\t\t\tthis.$store.dispatch('WEBSOCKET_SEND',JSON.stringify(msg))\t\n\t\t\t},\n\t\t\t// 图片预览\n\t\t\tpreviewImage(item){\r\n\t\t\t\tvar arr=[]\r\n\t\t\t\tthis.lastestChat.forEach(item=>{\r\n\t\t\t\t\tif(item.msgType=='2'){\r\n\t\t\t\t\t\tarr.push(item.content)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\n\t\t\t\tuni.previewImage({\n\t\t\t\t\tcurrent:item.content,\n\t\t\t\t\turls:arr,\n\t\t\t\t\tsuccess(e){\n\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t},\n\t\t\t\t\tfail(err){\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tpageToBottom(){\r\n\t\t\t\tthis.chatIndex=''\r\n\t\t\t\tlet lastIndex = this.lastestChat.length-(this.page-1)*10 - 1\r\n\t\t\t\tif(lastIndex < 0) return;\r\n\t\t\t\tthis.$nextTick(function(){\r\n\t\t\t\t\tthis.chatIndex = 'chatIndex'+this.lastestChat[lastIndex].id\r\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 群组的病例详情\n\t\t\tenterCase(id){\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl:'/pages/caselist/caselistdetail?id='+id,\n\t\t\t\t\tanimationType:'pop-in'\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 手术方法库页面新增\n\t\t\taddPage(){\n\t\t\t\tconsole.log(this.surgicalPage)\n\t\t\t\tthis.mark=1\n\t\t\t\tthis.getSurgical(this.mark,this.surgicalPage)\n\t\t\t},\n\t\t\ttoupper(e){//向上刷新\n\t\t\t\t// 查找历史记录\n\t\t\t\tif(this.page >= this.total) return this.status = 'nomore';\n\t\t\t\tthis.status = 'loading';\n\t\t\t\tthis.page++;\n\t\t\t\tthis.mark=1\n\t\t\t\tif(this.type=='GROUP'){//群组\n\t\t\t\t\tthis.fondLast(this.mark,this.page,'GROUP')\t\n\t\t\t\t}else{\n\t\t\t\t\tthis.fondLast(this.mark,this.page,'D')\n\t\t\t\t}\n\t\t\t},\r\n\t\t\t// 打开键盘\n\t\t\tInputfocus(e){\r\n\t\t\t\tthis.moreboolean=true\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tif(this.lastestChat.length!=0){\r\n\t\t\t\t\tthis.chatIndex = 'chatIndex'+this.lastestChat[this.lastestChat.length-1].id\r\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t\t// #ifndef H5 \r\n\t\t\t\tconsole.log(e.detail.height)\r\n\t\t\t\tthis.keyHeight=e.detail.height //键盘高度\r\n\t\t\t\tsetTimeout(()=>{//重新进行定位\r\n\t\t\t\t\tthis.getheight()\r\n\t\t\t\t},200)\n\t\t\t\t// #endif\n\t\t\t},\r\n\t\t\t// 键盘收起\r\n\t\t\tInputblur(){\r\n\t\t\t\tthis.keyHeight=10\r\n\t\t\t\tsetTimeout(()=>{//重新进行定位\r\n\t\t\t\t\tthis.getheight()\r\n\t\t\t\t},200)\r\n\t\t\t},\r\n\t\t\tuploadImage(source,type){\r\n\t\t\t\tconsole.log(source)\r\n\t\t\t\tconsole.log(type)\r\n\t\t\t\tvar that=this\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t    count: 3, //默认9\r\n\t\t\t\t    sizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t    sourceType:source,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tconst tempFilePaths = res.tempFilePaths;\r\n\t\t\t\t\t\tconst tempFiles=res.tempFiles;\r\n\t\t\t\t\t\ttempFilePaths.forEach(item=>{\r\n\t\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t\t\turl:that.$uploadUrl+'/cosFile/uploadSingleOpenImage',\r\n\t\t\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t\t\t\tfilePath: item,\r\n\t\t\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t\t\t'compression': String(true)  //formData是指除了图片以外，额外加的字段\r\n\t\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t\t\tname: 'file',//注意是file还是files\r\n\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\tvar data=JSON.parse(res.data)\r\n\t\t\t\t\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t\t\t\t\tif(data.code==0){\r\n\t\t\t\t\t\t\t\t\t\tthat.pictureid=data.object\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(that.pictureid)\r\n\t\t\t\t\t\t\t\t\t\tvar msg={\r\n\t\t\t\t\t\t\t\t\t\t\tchatId:that.chatId,\r\n\t\t\t\t\t\t\t\t\t\t\tsendUserType:'D',\r\n\t\t\t\t\t\t\t\t\t\t\tsendUserId:that.userId,\r\n\t\t\t\t\t\t\t\t\t\t\treceiveUserType:type,\r\n\t\t\t\t\t\t\t\t\t\t\treceiveUserId:that.otherid,\r\n\t\t\t\t\t\t\t\t\t\t\tmsgType:'2',\r\n\t\t\t\t\t\t\t\t\t\t\tmsgContent:String(that.pictureid)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(msg)\r\n\t\t\t\t\t\t\t\t\t\tthat.$store.dispatch('WEBSOCKET_SEND',JSON.stringify(msg))\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle:data.msg,\r\n\t\t\t\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail:(err)=>{\r\n\t\t\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t    },\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\n\t\t\t// 发送文字，图片,文件,手术方法\n\t\t\tsendItem(index){\n\t\t\t\tif(!this.$store.state.is_open_socket){\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t// #ifndef MP-WEIXIN\r\n\t\t\t\t\t\ttitle:'连接已断，请重新启动App',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t// #endif\n\t\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t\ttitle:'连接已断，请重新进入小程序',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t// #endif\n\t\t\t\t\t})\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(this.type=='GROUP'){//群组消息\n\t\t\t\t\tvar type='GROUP'\n\t\t\t\t}else{\n\t\t\t\t\tvar type='D'\n\t\t\t\t}\n\t\t\t\tif(index==0){//发送文本\n\t\t\t\t\tif(!this.InputContent){\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle:'内容不能为空',\n\t\t\t\t\t\t\ticon:'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar reg = /[^\\u0020-\\u007E\\u00A0-\\u00BE\\u2E80-\\uA4CF\\uF900-\\uFAFF\\uFE30-\\uFE4F\\uFF00-\\uFFEF\\u0080-\\u009F\\u2000-\\u201f\\u2026\\u2022\\u20ac\\r\\n]/g;\n\t\t\t\t\tif(this.InputContent.match(reg)) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle:'不能发送表情',\n\t\t\t\t\t\t\ticon:'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar msg={\n\t\t\t\t\t\tchatId:this.chatId,\n\t\t\t\t\t\tsendUserType:'D',\n\t\t\t\t\t\tsendUserId:this.userId,\n\t\t\t\t\t\treceiveUserType:type,\n\t\t\t\t\t\treceiveUserId:this.otherid,\n\t\t\t\t\t\tmsgType:'1',\n\t\t\t\t\t\tmsgContent:this.InputContent\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log(msg)\r\n\t\t\t\t\tthis.$store.dispatch('WEBSOCKET_SEND',JSON.stringify(msg))\n\t\t\t\t}else if(index==1){ //相册\n\t\t\t\t\tvar source=['album']\r\n\t\t\t\t\tthis.uploadImage(source,type)\n\t\t\t\t}else if(index==2){//拍摄\r\n\t\t\t\t\tvar source=['camera']\r\n\t\t\t\t\tthis.uploadImage(source,type)\r\n\t\t\t\t}else if(index==3){//文件\r\n\t\t\t\t\tconsole.log('文件')\n\t\t\t\t\t/**\n\t\t\t\t\t * currentWebview: 当前webview\n\t\t\t\t\t * url：上传接口地址\n\t\t\t\t\t * name：附件key,服务端根据key值获取文件流，默认file,上传文件的key\n\t\t\t\t\t * header: 上传接口请求头\n\t\t\t\t\t */\n\t\t\t\t\tthis.$refs.lFile.upload({\n\t\t\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\t\t\t// nvue页面使用时请查阅nvue获取当前webview的api，当前示例为vue窗口\n\t\t\t\t\t\tcurrentWebview: this.$mp.page.$getAppWebview(),\n\t\t\t\t\t\t// #endif\n\t\t\t\t\t\turl: this.$uploadUrl+'/cosFile/uploadSingleChatFile',\n\t\t\t\t\t\t// name: 'myFile',\n\t\t\t\t\t\t// header: {'Authorization':'token'},\n\t\t\t\t\t\t// 其他业务参数直接写key,value,如：\n\t\t\t\t\t\t// key1: 'value1',\n\t\t\t\t\t\t// key2: 'value2',\n\t\t\t\t\t});\n\t\t\t\t}else if(index==4){//手术方法库\n\t\t\t\t\tconsole.log(this.surgical)\n\t\t\t\t\tif(this.surgical.length!=0){\n\t\t\t\t\t\tthis.$refs.Sonshow.open()\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.getSurgical(0,1)\n\t\t\t\t\t}\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\tthis.pageToBottom();\n\t\t\t\t\t},300)\n\t\t\t\t}else{//病例\r\n\t\t\t\t\tif(this.caseList.length!=0){\r\n\t\t\t\t\t\tthis.$refs.caseshow.open()\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.getCase(0,1)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\tthis.pageToBottom();\r\n\t\t\t\t\t},300)\r\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 手术方法库详情\n\t\t\tenterDetail(item){\r\n\t\t\t\tconsole.log(item)\r\n\t\t\t\tvar id=JSON.parse(item.content).surgicalPlanId\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl:'/pages/surgicalData/surgicalDetail?id='+id\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 文件详情\n\t\t\topenFile(data){\r\n\t\t\t\tvar url=JSON.parse(data.content).fileDownloadUrl\n\t\t\t\tconsole.log(url)\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle:'打开中',\n\t\t\t\t\ticon:'none'\n\t\t\t\t})\n\t\t\t\tuni.downloadFile({\n\t\t\t\t\turl:url,\n\t\t\t\t\tsuccess(res){\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\tif (res.statusCode === 200) {\n\t\t\t\t\t\t\tconsole.log('下载成功');\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\t\t//打开文档查看\n\t\t\t\t\t\t\tuni.openDocument({\n\t\t\t\t\t\t\t\tfilePath: res.tempFilePath,\n\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\tconsole.log('打开文档成功');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\tconsole.log('下载失败');\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail(err){\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\r\n\t\t\t// 聊天中的病例详情\r\n\t\t\tCaseDetail(item){\r\n\t\t\t\tvar id=JSON.parse(item.content).caseHistoryId\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'/pages/caselist/caselistdetail?id='+id,\r\n\t\t\t\t\tanimationType:'pop-in'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 查询最新历史记录\n\t\t\tfondLast(mark,page,type){\n\t\t\t\tconsole.log(type)\n\t\t\t\tvar that=this\n\t\t\t\tfindchatLastest({\n\t\t\t\t\tsendUserType:'D',\n\t\t\t\t\tsendUserId:this.userId,\n\t\t\t\t\treceiveUserType:type,//目标类型\n\t\t\t\t\treceiveUserId:this.otherid, //目标用户(或者群组id)\n\t\t\t\t\tpageNum:page,\n\t\t\t\t\tpageSize:10,\n\t\t\t\t}).then(res=>{\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tif(res.data.code==0){\n\t\t\t\t\t\tif(res.data.object){\n\t\t\t\t\t\t\tthis.total=res.data.object.pages//总页数\n\t\t\t\t\t\t\tif(mark==0){\n\t\t\t\t\t\t\t\tthis.lastestChat=res.data.object.list.reverse()\n\t\t\t\t\t\t\t}else if(mark==1){\n\t\t\t\t\t\t\t\tthis.lastestChat=this.lastestChat.reverse().concat(res.data.object.list).reverse()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else if(res.data.code==-1){//数据为空\n\t\t\t\t\t\tthis.status='nomore'\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle:res.data.msg,\n\t\t\t\t\t\t\ticon:'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}).catch(err=>{\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 查询相关病例\n\t\t\tcaseData(caseid){\n\t\t\t\tgetcasedetail({\n\t\t\t\t\tcaseHistoryId:caseid\n\t\t\t\t}).then(res=>{\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tif(res.data.code==0){\n\t\t\t\t\t\tvar data=res.data.object\n\t\t\t\t\t\tthis.caselist=res.data.object\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle:res.data.msg,\n\t\t\t\t\t\t\ticon:'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}).catch(err=>{\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\t\t\t},\n\t\t\taddcasePage(){\r\n\t\t\t\tthis.mark=1\r\n\t\t\t\tthis.getCase(this.mark,this.casePage)\r\n\t\t\t},\r\n\t\t\t// 方法库发送之后,要重新加载聊天记录\n\t\t\trefleshData(){\n\t\t\t\tsetTimeout(()=>{ //滚动到底部\n\t\t\t\t\tthis.pageToBottom();\n\t\t\t\t},300)\n\t\t\t},\r\n\t\t\t// 病例发送之后,要重新加载聊天记录\r\n\t\t\tcaserefleshData(){\n\t\t\t\tsetTimeout(()=>{ //滚动到底部\n\t\t\t\t\tthis.pageToBottom();\n\t\t\t\t},300)\n\t\t\t},\n\t\t\t// 获取手术方法\n\t\t\tgetSurgical(mark,surgicalPage){\n\t\t\t\tgetSurgical({\n\t\t\t\t\tstart:surgicalPage,\n\t\t\t\t\tlength:6,\n\t\t\t\t}).then(res=>{\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tif(res.data.code==0){\n\t\t\t\t\t\tthis.surgicalTotal=res.data.object.pages//总页数\n\t\t\t\t\t\tthis.surgicalPage++//页数增加一页\n\t\t\t\t\t\tif(mark=='1'){//加载更多的操作\n\t\t\t\t\t\t\tthis.surgical=this.surgical.concat(res.data.object.list) \n\t\t\t\t\t\t}else{//初始化操作\n\t\t\t\t\t\t\tthis.surgical=res.data.object.list\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle:res.data.msg,\n\t\t\t\t\t\t\ticon:'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}).catch(err=>{\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetCase(mark,casePage){\r\n\t\t\t\tgetCaselist({\r\n\t\t\t\t\tstatus:'ALL',\r\n\t\t\t\t\tidentity:'ALL',\r\n\t\t\t\t\ttype:'ALL',//现在默认全是all\r\n\t\t\t\t\tpage:casePage,\r\n\t\t\t\t\tsize:6,\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\tthis.caseTotal=res.data.object.pages//总页数\r\n\t\t\t\t\t\tthis.casePage++//页数增加一页\r\n\t\t\t\t\t\tif(mark=='1'){//加载更多的操作\r\n\t\t\t\t\t\t\tthis.caseList=this.caseList.concat(res.data.object.list) \r\n\t\t\t\t\t\t}else{//初始化操作\r\n\t\t\t\t\t\t\tthis.caseList=res.data.object.list\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:res.data.msg,\r\n\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 更多功能\r\n\t\t\tmoreplus(){\r\n\t\t\t\tthis.moreboolean=!this.moreboolean\r\n\t\t\t\tsetTimeout(()=>{ \r\n\t\t\t\t\tthis.getheight() //获取底部高度\r\n\t\t\t\t},100)\r\n\t\t\t},\r\n\t\t},\n\t\t// 导航栏右上角\n\t\tonNavigationBarButtonTap(e){\n\t\t\tconsole.log(e)\n\t\t\tconsole.log(this.type)\n\t\t\tif(this.type=='GROUP'){//进入群聊设置\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl:'/pages/shoyiiChat/contactGroup?groupId='+this.otherid\n\t\t\t\t})\n\t\t\t}else{//进入私聊设置\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n\t\t\tconsole.log(options)\n\t\t\tthis.otherid=options.id\t//群组或私聊id\n\t\t\tthis.type=options.type\n\t\t\tthis.chatId=options.chatId\r\n\t\t\tthis.navTitle=options.otherName\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle:options.otherName\r\n\t\t\t})\n\t\t\tif(options.type=='GROUP'){//群组,这个是从聊天列表进来的\n\t\t\t\t// 查询相关病例\r\n\t\t\t\tif(options.caseId!='undefined'){\r\n\t\t\t\t\tthis.caseid=options.caseId\r\n\t\t\t\t\tthis.caseData(options.caseId)\r\n\t\t\t\t}\n\t\t\t\tthis.fondLast(0,1,'GROUP')\n\t\t\t}else if(options.type=='D'){//私聊\r\n\t\t\t\t// 查询最新聊天记录\r\n\t\t\t\tthis.fondLast(0,1,'D')\r\n\t\t\t}else{\r\n\t\t\t\t// 查询最新聊天记录\r\n\t\t\t\tthis.fondLast(0,1,'MGR')\n\t\t\t}\n\t\t\t// 获取手术方法库\n\t\t\tthis.getSurgical(0,1)\r\n\t\t\t// 获取病例数据\r\n\t\t\tthis.getCase(0,1)\r\n\t\t},\r\n\t}\n</script>\n\n<style scoped lang=\"scss\">\r\n\t\t.displaynone{\r\n\t\t\tdisplay: none;\r\n\t\t}\n\t\t.cordimages {\n\t\t\twidth: 300rpx;\n\t\t\theight: 300rpx;\n\t\t\tdisplay: flex;\n\t\t\talign-items: flex-start;\n\t\t\t.chatimage{\r\n\t\t\t\twidth: 300rpx;\r\n\t\t\t\theight: 300rpx;\r\n\t\t\t\t&.u-image__image{\r\n\t\t\t\t\twidth: 300rpx!important;\r\n\t\t\t\t\theight: 300rpx!important;\r\n\t\t\t\t}\r\n\t\t\t}\n\t\t}\n\t\t.image /deep/ uni-image{\r\n\t\t\twidth: 80rpx!important;\r\n\t\t\theight: 80rpx!important;\r\n\t\t}\r\n\t\tpage{\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t}\n\t\t.wechatItem{\n\t\t\twidth: 100%;\n\t\t\t/* #ifdef H5 */\n\t\t\theight:100%;\n\t\t\t/* #endif */\n\t\t\t/* #ifndef H5 */\n\t\t\theight: 100vh;\n\t\t\t/* #endif */\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t}\n\t\t.header{\n\t\t\tpadding: 0 30rpx;\n\t\t\theight: auto;\n\t\t\tmargin-top: 20rpx;\r\n\t\t\t/* #ifdef MP-WEIXIN */\r\n\t\t\tbackground-color: #FFFFFF;\r\n\t\t\t/* #endif */\n\t\t\t.headerRow{\r\n\t\t\t\tbackground-color: #FFFFFF;\n\t\t\t\t.caseimage{\n\t\t\t\t\tborder: 1px solid #F8F8F8;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t.u-image{\n\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\tmax-height: 140rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t.case {\n\t\t\t\t\theight: 140rpx;\n\t\t\t\t\tborder-radius: 8rpx;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: flex-start;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tjustify-content: space-around;\n\t\t\t\t\tcolor: #333333;\n\t\t\t\t\tfont-family: PingFang-SC-Regular;\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\tfont-weight: 400;\n\t\t\t\t\t.content{\n\t\t\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.section{\n\t\t\tmargin-top: 10px;\n\t\t\tflex: 1;\n\t\t\toverflow: auto;\r\n\t\t\theight: 100%;\n\t\t\t.section-item{\n\t\t\t\tpadding: 0 30rpx;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\t.time{\n\t\t\t\t\tdisplay: flex;justify-content: center;\n\t\t\t\t\tpadding: 20rpx 0;\n\t\t\t\t\tcolor: #606266;\n\t\t\t\t}\n\t\t\t\t.chatlist{\n\t\t\t\t\tpadding: 20rpx 10rpx;\n\t\t\t\t\tborder-radius: 10rpx;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: flex-start;\n\t\t\t\t}\n\t\t\t\t.alluser{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row-reverse;\n\t\t\t\t}\n\t\t\t\t.allother{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: row;\n\t\t\t\t}\n\t\t\t\t.userCord{\n\t\t\t\t\tmargin-right: 18px;\n\t\t\t\t\t.TextuserCord{\n\t\t\t\t\t\tborder-radius: 20rpx;\n\t\t\t\t\t\tpadding: 20rpx;\n\t\t\t\t\t\tbackground-color: #7DCCEC;\n\t\t\t\t\t\tword-wrap:break-word;\n\t\t\t\t\t\tword-break: break-all;\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\t&::before,&::after{\n\t\t\t\t\t\t    position: absolute;\n\t\t\t\t\t\t    content: \" \";\n\t\t\t\t\t\t    top: 13px;\n\t\t\t\t\t\t    right: -15px;\n\t\t\t\t\t\t    display: block;\n\t\t\t\t\t\t    width: 0;\n\t\t\t\t\t\t    height: 0;\n\t\t\t\t\t\t    border: 8px solid #7DCCEC;\n\t\t\t\t\t\t    border-color: transparent transparent transparent #7DCCEC;\n\t\t\t\t\t\t    z-index: 111;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t&::after{\n\t\t\t\t\t\t    right: -15px;\n\t\t\t\t\t\t    border-color: transparent transparent transparent #7DCCEC;\n\t\t\t\t\t\t    z-index: 11;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t.otherCord{\n\t\t\t\t\tmargin-left: 18px;\n\t\t\t\t\t.TextotherCord{\n\t\t\t\t\t\tborder-radius: 20rpx;\n\t\t\t\t\t\tpadding: 20rpx;\n\t\t\t\t\t\tbackground-color: #FFFFFF;\n\t\t\t\t\t\tword-wrap:break-word;\n\t\t\t\t\t\tword-break: break-all;\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\t&::before,&::after{\n\t\t\t\t\t\t    position: absolute;\n\t\t\t\t\t\t    content: \" \";\n\t\t\t\t\t\t    top: 13px;\n\t\t\t\t\t\t    left: -15px;\n\t\t\t\t\t\t    display: block;\n\t\t\t\t\t\t    width: 0;\n\t\t\t\t\t\t    height: 0;\n\t\t\t\t\t\t    border: 8px solid #7DCCEC;\n\t\t\t\t\t\t    border-color: transparent #fff transparent transparent;\n\t\t\t\t\t\t    z-index: 111;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t&::after{\n\t\t\t\t\t\t    left: -15px;\n\t\t\t\t\t\t    border-color: transparent #FFFFFF transparent transparent;\n\t\t\t\t\t\t    z-index: 11;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t.surgicalCode{\n\t\t\t\twidth: 440rpx;\n\t\t\t\tpadding: 20rpx 20rpx 0;\n\t\t\t\tbackground-color: #FFFFFF;border-radius: 10rpx;\n\t\t\t\t.s_header{\n\t\t\t\t\tcolor: #000000;font-size: 30rpx;font-weight: bold;\n\t\t\t\t\tdisplay: -webkit-box;\n\t\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t\t\t-webkit-line-clamp: 2;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\tword-wrap: break-word;\n\t\t\t\t\tword-break: break-all;\n\t\t\t\t}\n\t\t\t\t.s_section{\n\t\t\t\t\tdisplay: flex;justify-content: space-between;align-items: center;\n\t\t\t\t\tpadding: 20rpx 0;color: #999999;font-size: 26rpx;\n\t\t\t\t\t.content{\n\t\t\t\t\t\tflex: 1;padding-right: 20rpx;\n\t\t\t\t\t\tdisplay: -webkit-box;\n\t\t\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t\t\t\t-webkit-line-clamp: 3;\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\tword-wrap: break-word;\n\t\t\t\t\t\tword-break: break-all;\n\t\t\t\t\t}\n\t\t\t\t\t.image{\n\t\t\t\t\t\twidth: 100rpx;height: 100rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t.s_footer{\n\t\t\t\t\tdisplay: flex;align-items: center;padding: 10rpx 0;font-size: 24rpx;\n\t\t\t\t\tborder-top: 1px solid #F8F8F8;color: #999;\n\t\t\t\t\t.image{\n\t\t\t\t\t\twidth: 20rpx;height: 20rpx;padding-right:10rpx ;\n\t\t\t\t\t}\n\t\t\t\t\t.name{\n\t\t\t\t\t\tdisplay: -webkit-box;\n\t\t\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t\t\t\t-webkit-line-clamp: 1;\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\tword-wrap: break-word;\n\t\t\t\t\t\tword-break: break-all;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t.cordfile {\n\t\t\t\twidth: 440rpx;\n\t\t\t\tpadding: 30rpx;background-color: #FFFFFF;display: flex;justify-content: space-between;\n\t\t\t\t.title{\n\t\t\t\t\tflex: 1;flex-wrap: wrap;\n\t\t\t\t\tdisplay: -webkit-box;\n\t\t\t\t\t-webkit-box-orient: vertical;\n\t\t\t\t\t-webkit-line-clamp: 3;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\tword-wrap: break-word;\n\t\t\t\t\tword-break: break-all;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.empty{\r\n\t\t\t\theight: var(--status-bar-height);\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\t\t}\n\t\t.footer{\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 0;\r\n\t\t\twidth: 100%;\n\t\t\tbackground-color: #fff;\r\n\t\t\tz-index: 150;\r\n\t\t\t.inputItem{\r\n\t\t\t\tpadding: 20rpx 30rpx;display: flex;align-items: center;justify-content: space-between;\r\n\t\t\t\t.input{\r\n\t\t\t\t\tpadding: 26rpx 0;\r\n\t\t\t\t\tbackground-color: #F8F8F8;\r\n\t\t\t\t\tborder-radius:10rpx;\r\n\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t/* #ifdef MP-WEIXIN */\r\n\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\t/* #endif */\r\n\t\t\t\t}\r\n\t\t\t\t.sendBtn{\r\n\t\t\t\t\twidth: 120rpx;\r\n\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\t\tbackground-color: #7DCCEC;\r\n\t\t\t\t\tcolor: #FFFFFF;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.moreFunction{\r\n\t\t\t\tpadding: 40rpx 40rpx;\r\n\t\t\t\tbackground-color: #F8F8F8;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t.item{\r\n\t\t\t\t\twidth: 25%;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\tmargin: 20rpx 0;\r\n\t\t\t\t\t.iconfont{\r\n\t\t\t\t\t\tfont-size: 48rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.icon{\r\n\t\t\t\t\t\tbackground-color: #FFFFFF;\r\n\t\t\t\t\t\twidth: 70rpx;\r\n\t\t\t\t\t\theight: 70rpx;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tcolor: #000000;\r\n\t\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t.tip{\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\n\t\t}\n</style>\n","import mod from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatWindow.vue?vue&type=style&index=0&id=ad611112&scoped=true&lang=scss&\"; export default mod; export * from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatWindow.vue?vue&type=style&index=0&id=ad611112&scoped=true&lang=scss&\""],"sourceRoot":""}