{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/shoyii/pages/shoyiiChat/components/chatlist.vue?7789","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/shoyiiChat/components/chatlist.vue?acdb","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/shoyiiChat/components/chatlist.vue?5a8e","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/shoyiiChat/components/chatlist.vue?2411","uni-app:///pages/shoyiiChat/components/chatlist.vue","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/shoyiiChat/components/chatlist.vue?4a09"],"names":["renderjs","component","options","__file","components","uniList","uniListChat","uModal","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","l0","_self","_c","__map","chatlist","item","index","$orig","__get_orig","f0","_f","f1","chatMsgDetail","sendTime","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;2DAAA,yTACIA,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,2CACZ,aAAAF,E;;;;2GCvBf,k0B;;;;2GCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,QAAS,WACP,OAAO,mNAITC,YAAa,WACX,OAAO,iPAITC,OAAQ,WACN,OAAO,yKAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,MAAMP,EAAIQ,UAAU,SAASC,EAAMC,GAC9C,IAAIC,EAAQX,EAAIY,WAAWH,GAEvBI,EAAKb,EAAIc,GAAG,YAAPd,CAAoBS,GAEzBM,EAAKN,EAAKO,cAAcC,SACxBjB,EAAIc,GAAG,cAAPd,CAAsBS,EAAKO,cAAcC,UACzC,KACJ,MAAO,CACLN,MAAOA,EACPE,GAAIA,EACJE,GAAIA,OAIRf,EAAIkB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLlB,GAAIA,MAKRmB,GAAmB,EACnBC,EAAkB,GACtBzB,EAAO0B,eAAgB,G;;;;2DClEvB,0eAAy0B,eAAG,G;;;;0IC8B50B,kDACA,0C,EAEA,CACA,KADA,WAEA,OACA,aACA,SACA,QACA,YACA,cAGA,SACA,0BACA,UAFA,SAEA,GACA,gBACA,4CACA,SAEA,2BAIA,OACA,UACA,WACA,mBACA,YAIE,QAAF,CACI,UADJ,SACA,aAEA,GADM,QAAN,OACA,GACA,cACA,cACA,qGAGQ,EAAR,YACU,IAAV,gFAII,UAdJ,SAcA,GACM,QAAN,OACM,KAAN,WACM,KAAN,2BACM,KAAN,SAGI,QArBJ,WAqBA,WACM,QAAN,oBACM,EAAN,mBACQ,aAAR,uBACQ,WAAR,qBACQ,gBAAR,8BACQ,cAAR,8BACM,MAAN,YACQ,QAAR,OACA,eACU,EAAV,qBAEU,EAAV,WACY,MAAZ,WACY,KAAZ,YAGA,mBACQ,QAAR,a;;;;2DCrGA,k2BAA+gD,eAAG,G","file":"pages/shoyiiChat/components/chatlist.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./chatlist.vue?vue&type=template&id=f6a88f60&scoped=true&\"\nvar renderjs\nimport script from \"./chatlist.vue?vue&type=script&lang=js&\"\nexport * from \"./chatlist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./chatlist.vue?vue&type=style&index=0&id=f6a88f60&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f6a88f60\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/shoyiiChat/components/chatlist.vue\"\nexport default component.exports","export * from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatlist.vue?vue&type=template&id=f6a88f60&scoped=true&\"","var components\ntry {\n  components = {\n    uniList: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-list/components/uni-list/uni-list\" */ \"@/uni_modules/uni-list/components/uni-list/uni-list.vue\"\n      )\n    },\n    uniListChat: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-list/components/uni-list-chat/uni-list-chat\" */ \"@/uni_modules/uni-list/components/uni-list-chat/uni-list-chat.vue\"\n      )\n    },\n    uModal: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-modal/u-modal\" */ \"@/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.chatlist, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var f0 = _vm._f(\"groupName\")(item)\n\n    var f1 = item.chatMsgDetail.sendTime\n      ? _vm._f(\"relativtime\")(item.chatMsgDetail.sendTime)\n      : null\n    return {\n      $orig: $orig,\n      f0: f0,\n      f1: f1\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatlist.vue?vue&type=script&lang=js&\"","<template>\n    <view class=\"wrap\">\n        <uni-list>\n            <uni-list :border=\"true\" showBadge='false'>\n                <view @longtap='longpress(item)' v-for=\"(item,index) in chatlist\" :key='index'>\n                    <uni-list-chat class=\"chat\"\n                                   :avatar=\"item.anotherUserProfile?item.anotherUserProfile:'/static/image/shoyiilogo.png'\"\n                                   badge-positon=\"left\" :badge-text=\"item.readCount!=0&&item.readCount?item.readCount:0\" clickable\n                                   @click=\"enterChat(item.chatId,item.groupSize,item.anotherUserId,item.anotherUserName,item.anotherUserType,item.caseHistoryId)\"\n                                   :title=\"item|groupName\" :note=\"item.chatMsgDetail.content\">\n                        <view class=\"chat-custom-right\">\n                            <text class=\"chat-custom-text\" v-if=\"item.chatMsgDetail.sendTime\">{{item.chatMsgDetail.sendTime|relativtime}}</text>\n                        </view>\n                    </uni-list-chat>\n                </view>\n            </uni-list>\n        </uni-list>\n        <u-modal v-model=\"show\" title='删除该聊天' @confirm='delchat' confirm-color='red'\n                 :title-style=\"{color: '#000',fontWeight:'bold'}\" confirm-text='删除' :show-cancel-button='true'>\n            <view class=\"slot-content\">\n                <view class=\"\">\n                    删除与\n                    <text>\"{{chatName}}\"</text>\n                    的聊天记录\n                </view>\n            </view>\n        </u-modal>\n    </view>\n</template>\n<script>\n    import {deleteChatList} from '@/utill/api/connect/connect.js'\n    import {relativtime} from '@/utill/tools/timestamp.js'\n\n    export default {\n        data() {\n            return {\n                showBadge: false,\n                isRead: 1,\n                show: false,\n                chatName: '',\n                chatdata: {},\n            }\n        },\n        filters: {\n            relativtime,\r\n\t\t\tgroupName(val){\r\n\t\t\t\tif(val.groupSize){\r\n\t\t\t\t\tvar data=val.anotherUserName+'('+ val.groupSize +')'\r\n\t\t\t\t\treturn data\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn val.anotherUserName\r\n\t\t\t\t}\r\n\t\t\t}\n        },\n        props: {\n            chatlist: {\n                type: Array,\n                default: () => {\n                    return []\n                }\n            }\n        },\n        methods: {\n            enterChat(chatId, gruopSize, id, otherName, type, caseId) {//其他人id,name,群组或者私聊\n                console.log(caseId)\r\n\t\t\t\tif (gruopSize) {\n                    var otherName = otherName + '(' + gruopSize + ')' //群组成员人数\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/shoyiiChat/chatWindow?id=' + id + '&chatId=' + chatId + '&otherName=' + otherName + '&type=' + type + '&caseId=' + caseId\r\n\t\t\t\t\t})\n                } else {\n                    uni.navigateTo({\n                        url: '/pages/shoyiiChat/chatWindow?id=' + id + '&chatId=' + chatId + '&otherName=' + otherName + '&type=' + type\n                    })\n                }\n            },\n            longpress(item) {\n                console.log(item)\n                this.chatdata = item\n                this.chatName = item.anotherUserName\n                this.show = true\t//删除列表存在逻辑问题\n            },\n            // 删除聊天列表\n            delchat() {\n                console.log(this.chatdata)\n                deleteChatList({\n                    sendUserType: this.chatdata.userType,\n                    sendUserId: this.chatdata.userId,\n                    anotherUserType: this.chatdata.anotherUserType,\n                    anotherUserId: this.chatdata.anotherUserId,\n                }).then(res => {\n                    console.log(res)\n                    if (res.data.code == 0) {\n                        this.$emit('refreshChat')\n                    } else {\n                        uni.showToast({\n                            title: res.data.msg,\n                            icon: 'none'\n                        })\n                    }\n                }).catch(err => {\n                    console.log(err)\n                })\n            },\n        },\n    }\n</script>\n\n<style scoped lang=\"scss\">\n    .chat /deep/ .uni-ellipsis {\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 1;\n        overflow: hidden;\n        word-wrap: break-word;\n        word-break: break-all;\n    }\n\n    .chat-custom-right {\n        flex: 1;\n        /* #ifndef APP-NVUE */\n        display: flex;\n        /* #endif */\n        flex-direction: column;\n        justify-content: space-between;\n        align-items: flex-end;\n\n        .chat-custom-text {\n            font-size: 12px;\n            color: #999;\n        }\n\n        .await {\n            color: #86B0D4;\n        }\n\n        .refuse {\n            color: red;\n        }\n    }\n\n    .slot-content {\n        font-size: 28rpx;\n        color: $u-content-color;\n        padding-left: 30rpx;\n        padding: 20rpx 20rpx;\n        text-align: center;\n    }\n\n</style>\n","import mod from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatlist.vue?vue&type=style&index=0&id=f6a88f60&scoped=true&lang=scss&\"; export default mod; export * from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./chatlist.vue?vue&type=style&index=0&id=f6a88f60&scoped=true&lang=scss&\""],"sourceRoot":""}