{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/deviceManage/groupDevices.vue?8b1e","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/deviceManage/groupDevices.vue?3b0d","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/deviceManage/groupDevices.vue?4bbe","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/deviceManage/groupDevices.vue?ba91","uni-app:///pages/deviceManage/groupDevices.vue","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/deviceManage/groupDevices.vue?5cd9"],"names":["createPage","Page","renderjs","component","options","__file","components","uNavbar","uniIcons","uModal","uInput","uCheckbox","uSelect","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","l0","_self","_c","__map","devicesData","item","index","$orig","__get_orig","f0","_f","deviceStatus","f1","bindingTime","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBAAmB,8BACnB,sBACA,wD,mDACAA,EAAWC,a;;;;2DCHX,iUACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,sCACZ,aAAAF,E;;;;2GCvBf,q0B;;;;2GCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,QAAS,WACP,OAAO,8KAITC,SAAU,WACR,OAAO,+PAITC,OAAQ,WACN,OAAO,wKAITC,OAAQ,WACN,OAAO,6MAITC,UAAW,WACT,OAAO,0LAITC,QAAS,WACP,OAAO,gLAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,MAAMP,EAAIQ,aAAa,SAASC,EAAMC,GACjD,IAAIC,EAAQX,EAAIY,WAAWH,GAEvBI,EAAKb,EAAIc,GAAG,eAAPd,CAAuBS,EAAKM,cAEjCC,EAAKhB,EAAIc,GAAG,YAAPd,CAAoBS,EAAKQ,aAElC,MAAO,CACLN,MAAOA,EACPE,GAAIA,EACJG,GAAIA,OAIRhB,EAAIkB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLlB,GAAIA,MAKRmB,GAAmB,EACnBC,EAAkB,GACtBzB,EAAO0B,eAAgB,G;;;;2DChFvB,6eAA60B,eAAG,G;;;;0IC0Hh1B,2DACA,yDACA,qDACA,qD,EACA,CACA,KADA,WAEA,OACA,WACA,YACA,2BAEA,aACA,eACA,WACA,YACA,WACA,YACA,cACA,cACA,kBACA,cACA,aACA,gBAEA,gBACA,UACA,UACA,cACA,qBACA,QACA,MACA,CACA,UACA,YAEA,CACA,UACA,YAEA,CACA,UACA,aAIA,cACA,cACA,cAGA,SACA,KADA,WAEA,gBACA,WAIA,KAPA,WAQA,WACA,YACA,QADA,SACA,GACA,cACA,uHACA,0BAGA,KAPA,SAOA,GACA,aACA,QACA,YACA,mBAMA,aA1BA,SA0BA,GACA,gBACA,iBAGA,WA/BA,WA+BA,YACA,mBACA,uBACA,uBACA,kBACA,eAEA,eACA,2BAEA,aACA,iBACA,iBAGA,mBACA,mBAIA,UAnDA,aAoDA,WApDA,SAoDA,GACA,wBAGA,cAxDA,SAwDA,GACA,2BAIA,aA7DA,WA6DA,YACA,uCACA,eACA,gBACA,2BACA,iBAEA,aACA,iBACA,iBAGA,mBACA,mBAKA,cA/EA,SA+EA,GACA,eACA,yBACA,4BAGA,WArFA,WAsFA,cAGA,YAzFA,SAyFA,GACA,eACA,gCAGA,WA9FA,SA8FA,cACA,iBACA,gBACA,qCACA,UACA,0BACA,yBACA,kCACA,0BACA,yBACA,oCAIA,YA5GA,WA4GA,YACA,iBACA,iBACA,2BACA,sBACA,mCACA,0BACA,kCACA,kBACA,eACA,eACA,2BAEA,aACA,iBACA,iBAGA,kBACA,mBAGA,WAlIA,aAoIA,UApIA,WAqIA,cAEA,4GAGA,cA1IA,SA0IA,cACA,yBACA,eACA,qBAEA,MACA,qBACA,YACA,kBACA,eACA,gBACA,gBACA,eACA,4BAEA,aACA,iBACA,iBAGA,mBACA,gBACA,gBACA,oBAIA,SAEA,yBAEA,OADA,eACA,KACA,KAEA,OAIA,OA9NA,SA8NA,GACA,eACA,uBACA,wBACA,uBACA,gC;;;;2DCjWA,0sBAA6sC,eAAG,G","file":"pages/deviceManage/groupDevices.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/deviceManage/groupDevices.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./groupDevices.vue?vue&type=template&id=da26472e&scoped=true&\"\nvar renderjs\nimport script from \"./groupDevices.vue?vue&type=script&lang=js&\"\nexport * from \"./groupDevices.vue?vue&type=script&lang=js&\"\nimport style0 from \"./groupDevices.vue?vue&type=style&index=0&id=da26472e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"da26472e\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/deviceManage/groupDevices.vue\"\nexport default component.exports","export * from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./groupDevices.vue?vue&type=template&id=da26472e&scoped=true&\"","var components\ntry {\n  components = {\n    uNavbar: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-navbar/u-navbar\" */ \"@/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uModal: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-modal/u-modal\" */ \"@/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-input/u-input\" */ \"@/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uCheckbox: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-checkbox/u-checkbox\" */ \"@/uview-ui/components/u-checkbox/u-checkbox.vue\"\n      )\n    },\n    uSelect: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-select/u-select\" */ \"@/uview-ui/components/u-select/u-select.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.devicesData, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var f0 = _vm._f(\"changeStatus\")(item.deviceStatus)\n\n    var f1 = _vm._f(\"timeStamp\")(item.bindingTime)\n\n    return {\n      $orig: $orig,\n      f0: f0,\n      f1: f1\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./groupDevices.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./groupDevices.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"allGroup\">\r\n\t\t<u-navbar class=\"navBar\" :is-back=\"false\"  title=\"\" title-color=\"#000000\" :background=\"background\">\r\n\t\t\t<view class=\"slot-wrap\">\r\n\t\t\t\t<uni-icons type=\"arrowleft\" size=\"22\" color=\"#333333\" @click=\"back\"></uni-icons>\r\n\t\t\t\t<text>{{groupName||'未填写'}}</text>\r\n\t\t\t\t<view class=\"icon\">\r\n\t\t\t\t\t<view class=\"scan\" @click=\"scan\">\r\n\t\t\t\t\t\t<uni-icons type=\"scan\" size=\"22\" color=\"#333333\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-navbar>\r\n\t\t<view class=\"tip\">\r\n\t\t\t<text>可通过点击下方按钮或者右上角“扫一扫”添加设备。</text>\r\n\t\t</view>\r\n\t\t<view class=\"deviceList\">\r\n\t\t\t<view class=\"wrap\" style=\"\" v-for=\"(item,index) in devicesData\" :key='index'>\r\n\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t<text class=\"item_name\">设备名称：</text>\r\n\t\t\t\t\t<text>{{item.deviceName}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t<text class=\"item_name\">设备类型：</text>\r\n\t\t\t\t\t<text>{{item.deviceIdentity}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t<text class=\"item_name\">设备标识：</text>\r\n\t\t\t\t\t<text>{{item.deviceMark}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t<text class=\"item_name\">设备状态：</text>\r\n\t\t\t\t\t<text>{{item.deviceStatus|changeStatus}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t<text class=\"item_name\">绑定时间：</text>\r\n\t\t\t\t\t<text>{{item.bindingTime|timeStamp}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"item\">\r\n\t\t\t\t\t<text class=\"item_name\">设备权限：</text>\r\n\t\t\t\t\t<text v-if=\"item.deviceControl\" :class=\"item.deviceControl?'gap':''\"> 操作权 </text>\r\n\t\t\t\t\t<text v-if=\"item.deviceRead\"> 查看权 </text>\r\n\t\t\t\t\t<text v-if=\"!item.deviceRead&&!item.deviceControl\"> 未进行权限操作 </text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"operation\">\r\n\t\t\t\t\t<text @click=\"deleteDevice(item.id)\">删除</text>\r\n\t\t\t\t\t<text>|</text>\r\n\t\t\t\t\t<text @click=\"editDevice(item.id)\">编辑</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"btn\">\r\n\t\t\t<button class=\"button\" type=\"default\" @click=\"addDevice\">添加设备</button>\r\n\t\t</view>\r\n\t\t<!-- 删除设备模态框 -->\r\n\t\t<u-modal v-model=\"delshow\" confirm-color='#FD3130' negative-top='140rpx' :show-title='false' :show-cancel-button='true' @cancel=\"delcancel\" @confirm=\"delconfirm\" ref=\"uModal\">\r\n\t\t\t<view class=\"slot-content\">\r\n\t\t\t\t<text>确定删除该设备</text>\r\n\t\t\t</view>\r\n\t\t</u-modal>\r\n\t\t<!-- 编辑模态框 -->\r\n\t\t<u-modal v-model=\"editshow\" width='720' confirm-color='#000000' negative-top='140rpx' :show-title='false' :show-cancel-button='true' @cancel=\"editcancel\" @confirm=\"editconfirm\" ref=\"uModal\">\r\n\t\t\t<view class=\"slot-content\">\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t<view class=\"device\">\r\n\t\t\t\t\t\t<view class=\"label\">\r\n\t\t\t\t\t\t\t<text>设备名称：</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<u-input v-model=\"deviceName\" placeholder-style='#8F8F8F' placeholder='' :type=\"type\" :border=\"border\" :height=\"height\" :auto-height=\"autoHeight\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 设备分组 -->\r\n\t\t\t\t\t<view class=\"device\">\r\n\t\t\t\t\t\t<view class=\"label\">\r\n\t\t\t\t\t\t\t<text>设备分组：</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"type\" @click=\"selectGroups\">\r\n\t\t\t\t\t\t\t<text>{{groupsName}}</text>\r\n\t\t\t\t\t\t\t<uni-icons :type=\"typeicon\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"device\">\r\n\t\t\t\t\t\t<view class=\"label\">\r\n\t\t\t\t\t\t\t<text>设备类型：</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"type\" @click=\"selectType\">\r\n\t\t\t\t\t\t\t<text>{{deviceIdentity}}</text>\r\n\t\t\t\t\t\t\t<uni-icons :type=\"typeicon\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"device\">\r\n\t\t\t\t\t\t<view class=\"label\">\r\n\t\t\t\t\t\t\t<text>设备标识 (设备号)：</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<u-input :disabled=true v-model=\"deviceMark\" placeholder='' :type=\"type\" :border=\"border\" :height=\"height\" :auto-height=\"autoHeight\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"device\">\r\n\t\t\t\t\t\t<view class=\"label\">\r\n\t\t\t\t\t\t\t<text>设备权限：</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<u-checkbox \r\n\t\t\t\t\t\t\tstyle=\"margin-right: 20rpx;\"\r\n\t\t\t\t\t\t\t@change=\"selectread\" \r\n\t\t\t\t\t\t\tv-model=\"checkread\" \r\n\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\tactive-color=\"#86B0D4\"\r\n\t\t\t\t\t\t>查看权</u-checkbox>\r\n\t\t\t\t\t\t<u-checkbox\r\n\t\t\t\t\t\t\t@change=\"selectoperate\" \r\n\t\t\t\t\t\t\tv-model=\"checkoperate\" \r\n\t\t\t\t\t\t\tshape=\"circle\"\r\n\t\t\t\t\t\t\tactive-color=\"#86B0D4\"\r\n\t\t\t\t\t\t>操作权</u-checkbox>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\t\r\n\t\t\t</view>\r\n\t\t</u-modal>\r\n\t\t<u-select v-model=\"show\" title='选择设备类型'  mode=\"single-column\"  @confirm=\"confirmType\" :list=\"list\" cancel-color='#000000' confirm-color='#000000'></u-select>\r\n\t\t<u-select v-model=\"groupsshow\" title='选择分组名称' value-name='id' label-name='name'  mode=\"single-column\" @confirm=\"confirmGroups\" :list=\"listgroups\" cancel-color='#000000' confirm-color='#000000'></u-select>\r\n\t</view>\n</template>\n\n<script>\r\n\timport {deleteDevice} from '@/utill/api/DeviceGroup/deleteDevice.js'\r\n\timport {getgroupDevice} from '@/utill/api/DeviceGroup/getgroupDevice.js'\r\n\timport {editDevice} from '@/utill/api/DeviceGroup/editDevice.js'\r\n\timport {querydevice} from '@/utill/api/DeviceGroup/querydevice.js'\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tname:'查看权',\r\n\t\t\t\tbackground: {\r\n\t\t\t\t\tbackgroundColor: '#ffffff',\r\n\t\t\t\t},\r\n\t\t\t\tgroupName:'',\r\n\t\t\t\tdevicesData:[],\r\n\t\t\t\tgroupId:'',//设备的分组id\r\n\t\t\t\tdeviceId:'',//设别的id\r\n\t\t\t\tdelshow:false,//删除设备\r\n\t\t\t\teditshow:false,//修改设备\r\n\t\t\t\tdeviceName:'',//名称\r\n\t\t\t\tgroupsName:'',//编辑的分组名\r\n\t\t\t\tdeviceIdentity:'',//类型\r\n\t\t\t\tdeviceMark:'',//标识\r\n\t\t\t\tcheckread:false,\r\n\t\t\t\tcheckoperate:false,\r\n\t\t\t\t// input 输入\r\n\t\t\t\ttype: 'textarea',\r\n\t\t\t\tborder: true,\r\n\t\t\t\theight: 56,\r\n\t\t\t\tautoHeight: true,\r\n\t\t\t\ttypeicon:'arrowdown',\r\n\t\t\t\tshow:false,//设备类型\r\n\t\t\t\tlist: [//设备类型数据\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '1',\r\n\t\t\t\t\t\tlabel: 'MR'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '2',\r\n\t\t\t\t\t\tlabel: 'VR'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: '3',\r\n\t\t\t\t\t\tlabel: 'AR'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t// 分组数据\r\n\t\t\t\tgroupsshow:false,\r\n\t\t\t\tlistgroups:[],//分组名称列表\r\n\t\t\t\tgroupsId:''\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tback(){\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta:1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 扫码\r\n\t\t\tscan(){\t\r\n\t\t\t\tvar _this=this\r\n\t\t\t\tuni.scanCode({\r\n\t\t\t\t\tsuccess(e) {\t\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl:'/pages/deviceManage/addDevice?deviceCode='+e.result+'&groupId='+_this.groupId+'&groupsName='+_this.groupName+'&scan='+'scan',\r\n\t\t\t\t\t\t\tanimationType:'pop-in'\r\n\t\t\t\t\t\t})\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:err,\r\n\t\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\t\tduration:2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 删除设备\r\n\t\t\tdeleteDevice(id){\r\n\t\t\t\tthis.delshow=true\r\n\t\t\t\tthis.deviceId=id\r\n\t\t\t},\r\n\t\t\t// 删除确定\r\n\t\t\tdelconfirm(){\r\n\t\t\t\tdeleteDevice({\r\n\t\t\t\t\tdeviceId:this.deviceId,//设备id\r\n\t\t\t\t\tgroupId:this.groupId//该设备组别id\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t// 删除完之后,在渲染该分组里的数据\r\n\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\tthis.getDeviceData(this.groupId)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:res.data.msg,\r\n\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 删除设别取消\r\n\t\t\tdelcancel(){},\r\n\t\t\tselectread(e){\r\n\t\t\t\tthis.checkread=e.value\r\n\t\t\t\t// console.log(this.checkread)\r\n\t\t\t},\r\n\t\t\tselectoperate(e){\r\n\t\t\t\tthis.checkoperate=e.value\r\n\t\t\t\t// console.log(this.checkoperate)\r\n\t\t\t},\r\n\t\t\t// 选择分组数据\r\n\t\t\tselectGroups(){\r\n\t\t\t\tquerydevice({}).then(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\tthis.listgroups=res.data.object\r\n\t\t\t\t\t\tthis.groupsshow=true\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:res.data.msg,\r\n\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t// 确定分组\r\n\t\t\tconfirmGroups(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.groupsId=e[0].value\r\n\t\t\t\tthis.groupsName=e[0].label\r\n\t\t\t},\r\n\t\t\t// 选择类型\r\n\t\t\tselectType(){\r\n\t\t\t\tthis.show=true\r\n\t\t\t},\r\n\t\t\t// 确认设备类型\r\n\t\t\tconfirmType(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.deviceIdentity=e[0].label\r\n\t\t\t},\r\n\t\t\t// 编辑\r\n\t\t\teditDevice(id){\r\n\t\t\t\tthis.editshow=true\r\n\t\t\t\tthis.deviceId=id\r\n\t\t\t\tthis.devicesData.filter((item)=>{\r\n\t\t\t\t\tif(item.id==id){\r\n\t\t\t\t\t\tthis.deviceName=item.deviceName\r\n\t\t\t\t\t\tthis.groupsName=this.groupName\r\n\t\t\t\t\t\tthis.deviceIdentity=item.deviceIdentity\r\n\t\t\t\t\t\tthis.deviceMark=item.deviceMark\r\n\t\t\t\t\t\tthis.checkread=item.deviceRead\r\n\t\t\t\t\t\tthis.checkoperate=item.deviceControl\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\teditconfirm(){\r\n\t\t\t\teditDevice({\r\n\t\t\t\t\tid:this.deviceId,\r\n\t\t\t\t\tdeviceName:this.deviceName,//设备名称\r\n\t\t\t\t\tgroupId:this.groupsId,//设备组的id\r\n\t\t\t\t\tdeviceIdentity:this.deviceIdentity,//设备类型\r\n\t\t\t\t\tdeviceRead:this.checkread,// 查看权\r\n\t\t\t\t\tdeviceControl:this.checkoperate,//操作权\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\tthis.getDeviceData(this.groupId)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:res.data.msg,\r\n\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(err=>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\teditcancel(){},\r\n\t\t\t// 添加（在分组详情中加入设备是不需要加入分组名称的，默认就是该分组名称）\r\n\t\t\taddDevice(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t// url:'/pages/deviceManage/deviceManage'\r\n\t\t\t\t\turl:'/pages/deviceManage/addDevice?groupsName='+this.groupName+'&groupId='+this.groupId+'&others='+'others'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetDeviceData(id){\r\n\t\t\t\tvar timer = setTimeout(function() {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t  title: '数据加载中...',\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 2000)\r\n\t\t\t\tgetgroupDevice({\r\n\t\t\t\t\tgroupId:id\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tclearTimeout(timer)\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\tthis.devicesData=res.data.object\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:res.data.msg,\r\n\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tclearTimeout(timer)\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tfilters:{\r\n\t\t\t// 设备状态转变\r\n\t\t\tchangeStatus:function(data){\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tif(data==0){\r\n\t\t\t\t\treturn '离线'\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn '在线'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tconsole.log(option)\r\n\t\t\tthis.groupId=option.groupId\r\n\t\t\tthis.groupsId=option.groupId\r\n\t\t\tthis.groupName=option.Uname\r\n\t\t\tthis.getDeviceData(option.groupId)\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped>\r\n\tpage{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t.allGroup{\r\n\t\twidth: 100%;\r\n\t\t/* #ifdef H5 */\r\n\t\theight:100%;\r\n\t\t/* #endif */\r\n\t\t/* #ifndef H5 */\r\n\t\theight: 100vh;\r\n\t\t/* #endif */\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t.slot-wrap {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\t/* 如果让slot内容占满整个导航栏的宽度 */\r\n\t\tflex: 1;\r\n\t\t/* 如果让slot内容与导航栏左右有空隙 */\r\n\t\tpadding: 0 30rpx;\r\n\t}\r\n\t.slot-wrap uni-text:nth-child(2){\r\n\t\tcolor: #000000;\r\n\t\tfont-family: PingFang-SC-Bold;\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t/* #ifdef MP-WEIXIN */\r\n\t.navBar /deep/ .u-line-1 {\r\n\t\tdisplay: none!important;\r\n\t}\r\n\t/* #endif */\r\n\t.slot-wrap .icon{\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.tip{\r\n\t\tpadding: 30rpx 30rpx;\r\n\t\tcolor: #000000;\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\t.deviceList{\r\n\t\tpadding: 0 30rpx;\r\n\t\tflex: 1;\r\n\t\theight: 100%;\r\n\t\toverflow: auto;\r\n\t\t-webkit-overflow-scrolling: touch;\r\n\t}\r\n\t.wrap{\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tpadding: 0 30rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\t.wrap .item{\r\n\t\theight: 60rpx;\r\n\t\tline-height: 60rpx;\r\n\t\tcolor: #000000;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\t.gap{\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\t.item_name{\r\n\t\tmargin-right: 30rpx;\r\n\t}\r\n\t.operation{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;height: 80rpx;line-height:80rpx;\r\n\t\tborder-top: 1px solid #EEEEEE;\r\n\t\tcolor: #999999;\r\n\t}\r\n\t/* #ifdef MP-WEIXIN */\r\n\t.operation text:nth-child(1){\r\n\t\twidth: 50%;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.operation text:nth-child(2){\r\n\t\tcolor: #EEEEEE;\r\n\t}\r\n\t.operation text:nth-child(3){\r\n\t\tcolor: #000000;\r\n\t\twidth: 50%;\r\n\t\ttext-align: center;\r\n\t}\r\n\t/* #endif */\r\n\t.operation uni-text:nth-child(1){\r\n\t\twidth: 50%;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.operation uni-text:nth-child(2){\r\n\t\tcolor: #EEEEEE;\r\n\t}\r\n\t.operation uni-text:nth-child(3){\r\n\t\tcolor: #000000;\r\n\t\twidth: 50%;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.btn{\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\twidth: 100%;\r\n\t}\r\n\t.btn .button{\r\n\t\tbackground-color: #86B0D4;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n\t.slot-content{\r\n\t\ttext-align: center;\r\n\t\tpadding: 60rpx 0;\r\n\t}\r\n\t.content{\r\n\t\tpadding-top: 36rpx;\r\n\t}\r\n\t.device{\r\n\t\tpadding: 0 30rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-top: 20rpx;\r\n\t}\r\n\t.device .label{\r\n\t\tmargin-right: 20rpx;\r\n\t\t/* width: 170rpx; */\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\t.tips{\r\n\t\tmargin-right:10rpx;\r\n\t\tcolor: #86B0D4;\r\n\t}\r\n\t.type{\r\n\t\theight: 76rpx;\r\n\t\tborder: 1px solid #EEEEEE;\r\n\t\tline-height: 76rpx;\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 0 20rpx;\r\n\t\tcolor: #8F8F8F;\r\n\t}\r\n\t.device /deep/ uni-textarea{\r\n\t\tline-height: 56rpx!important;\r\n\t}\r\n\t.device /deep/ .u-input__textarea{\r\n\t\tcolor: #8F8F8F;\r\n\t}\r\n\t/* #ifdef MP-WEIXIN */\r\n\t.device /deep/ u-input{\r\n\t\tflex: 1;\r\n\t}\r\n\t/* #endif */\n</style>\n","import mod from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./groupDevices.vue?vue&type=style&index=0&id=da26472e&scoped=true&lang=css&\"; export default mod; export * from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./groupDevices.vue?vue&type=style&index=0&id=da26472e&scoped=true&lang=css&\""],"sourceRoot":""}