{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/login/tellogin.vue?6e2e","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/login/tellogin.vue?9752","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/login/tellogin.vue?bdf1","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/login/tellogin.vue?93c6","uni-app:///pages/login/tellogin.vue","webpack:///C:/Users/Administrator/Desktop/shoyii/pages/login/tellogin.vue?a6c8"],"names":["createPage","Page","renderjs","component","options","__file","components","loginTop","uniIcons","uButton","uModal","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBAAmB,8BACnB,sBACA,6C,mDACAA,EAAWC,a;;;;2DCHX,sTACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,2BACZ,aAAAF,E;;;;2GCvBf,i0B;;;;2GCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,SAAU,WACR,OAAO,0JAITC,SAAU,WACR,OAAO,+PAITC,QAAS,WACP,OAAO,8KAITC,OAAQ,WACN,OAAO,yKAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DChDvB,yeAAy0B,eAAG,G;;;;4IC+E50B,sDACA,gDACA,mDACA,6CACA,kDACA,yC,EACA,CACA,KADA,WAEA,OACA,WACA,aACA,iBAEA,gBACA,iBAEA,SACA,QACA,OACA,oBACA,0BACA,oBACA,eACA,cACA,cACA,eACA,aACA,cAGA,QAxBA,WAyBA,eACA,gBACA,oBACA,eACA,4BAOA,OApCA,SAoCA,GACA,eAEA,kCACA,wCACA,0CAEA,OACA,MADA,SACA,KACA,kCACA,gBAEA,kBAIA,SAEA,eAFA,WAGA,aACA,YACA,cAEA,WACA,YACA,qBACA,QAFA,WAIA,qCACA,SACA,qBACA,gBACA,cACA,0BACA,MACA,QACA,WACA,aAEA,UACA,gBACA,eAEA,QACA,gBACA,eAEA,YACA,sBACA,yBACA,wBACA,aACA,cACA,oBACA,kBAEA,kBACA,eACA,sBACA,yBACA,aACA,cACA,oBACA,eACA,kBACA,uBAEA,cACA,oBACA,qBACA,iBACA,mBACA,YACA,cACA,CACA,8DACA,mBAKA,QApDA,SAoDA,GACA,gBACA,0BACA,gBACA,sBACA,MACA,uCACA,8BAEA,kBAEA,eACA,sBACA,+BACA,uBACA,oBACA,cACA,kBACA,eACA,2BACA,cAEA,gBACA,6BACA,cACA,2FAGA,kEAEA,oBAEA,aACA,iBACA,cAEA,sBAEA,mBACA,eACA,wBAGA,mBAEA,eACA,aACA,kBACA,YACA,eAEA,sBAIA,KA3GA,SA2GA,GACA,gBACA,uBACA,sBACA,yBACA,eAGA,mBACA,kBACA,mBACA,wBACA,oBACA,aACA,gBACA,kBAMA,KArIA,SAqIA,GACA,gBAEA,uBACA,sBACA,qBACA,eAGA,aACA,oBACA,cAEA,sBAKA,MA/JA,WAgKA,gBACA,WAGA,SApKA,WAqKA,cACA,kCAIA,SA1KA,WA2KA,cACA,UAIA,SAhLA,WAiLA,cACA,kDACA,0BAGA,QAtLA,WAsLA,WACA,wBACA,eAOA,4CAOA,oBACA,uBACA,kBACA,eACA,eACA,cACA,0DACA,+BAGA,aACA,iBACA,iBAIA,mBACA,kBAvBA,aACA,kBACA,cATA,aACA,iBACA,eA+BA,SA1NA,WA2NA,SACA,OACA,yBACA,gCACA,QAKA,OAJA,sBACA,4BACA,2BACA,uBAGA,4BACA,MACA,MAGA,aA3OA,WA4OA,WAKA,OACA,oCACA,eACA,uBACA,iBACA,IACA,mBAGA,EAOA,cA4DA,sBACA,aACA,kBACA,cAEA,2BACA,kCACA,YACA,mBAnEA,yBACA,eACA,qBACA,eACA,gBAEA,eAEA,2BAQA,kBACA,oCACA,kBAEA,GADA,eACA,eACA,gBACA,6BACA,cACA,2FAGA,sEAEA,oBAKA,YAJA,aACA,iBACA,cAIA,gBACA,cACA,8FACA,6BAGA,mBACA,kBAlCA,aACA,qBACA,iBAkCA,YACA,eACA,aACA,eACA,oBAGA,YACA,aACA,eACA,iBA9DA,aACA,oBACA,iBA2EA,YACA,eACA,aACA,qBACA,kBAQA,eApVA,SAoVA,cACA,oBACA,eACA,sCACA,6BACA,yBACA,qCACA,eACA,qBACA,qCACA,iBACA,kBACA,eACA,eACA,6BACA,cACA,2FAGA,kEAGA,aACA,iBACA,iBAGA,mBACA,mBAGA,oBAIA,YAvXA,WAwXA,oBAGA,gBA3XA,WA4XA,qBAGA,aA/XA,WAgYA,WACA,mBACA,gBACA,QAFA,SAEA,GACA,eACA,+BACA,2BACA,uBACA,kBACA,QACA,gBACA,kBACA,sBACA,6BACA,gCACA,2BACA,6BACA,qBACA,6BACA,aACA,oBAEA,kBACA,eACA,gBACA,iBACA,iBAEA,aACA,iBACA,iBAGA,mBACA,mBAGA,kBAGA,KAvCA,SAuCA,GACA,mBAKA,WA9aA,WA8aA,WACA,SACA,oBACA,eACA,oBACA,eACA,eAEA,qBACA,gBACA,kBACA,gBACA,eACA,eACA,6BACA,cACA,2FAGA,kEAEA,iBACA,gCACA,gCACA,8BACA,kBACA,mBACA,aACA,gBACA,cAIA,aACA,iBACA,iBAGA,mBACA,gBACA,mBAGA,KA1CA,SA0CA,GACA,eACA,uBAMA,UAjeA,WAkeA,cACA,sCAIA,YAveA,WAweA,cACA,4C;;;;2DClnBA,i2BAA+gD,eAAG,G","file":"pages/login/tellogin.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\nimport Vue from 'vue'\nimport Page from './pages/login/tellogin.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./tellogin.vue?vue&type=template&id=6de196cd&scoped=true&\"\nvar renderjs\nimport script from \"./tellogin.vue?vue&type=script&lang=js&\"\nexport * from \"./tellogin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tellogin.vue?vue&type=style&index=0&id=6de196cd&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6de196cd\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/tellogin.vue\"\nexport default component.exports","export * from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tellogin.vue?vue&type=template&id=6de196cd&scoped=true&\"","var components\ntry {\n  components = {\n    loginTop: function() {\n      return import(\n        /* webpackChunkName: \"components/login-top/login-top\" */ \"@/components/login-top/login-top.vue\"\n      )\n    },\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-button/u-button\" */ \"@/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uModal: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-modal/u-modal\" */ \"@/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tellogin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tellogin.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"login\">\r\n\t\t<login-top @close=\"close\" @register=\"register\"></login-top>\r\n\t\t<view class=\"login-main\">\r\n\t\t\t<view class=\"\">\r\n\t\t\t\t<view class=\"title_tip\">\r\n\t\t\t\t\t<text>短信登录</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tel_login\">\r\n\t\t\t\t\t<text @tap=\"areaCode\">{{areacode}}</text>\r\n\t\t\t\t\t<uni-icons type=\"arrowdown\"></uni-icons>\r\n\t\t\t\t\t<input type=\"number\" maxlength=\"11\" v-model=\"phone\" placeholder=\"请输入手机号码\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<button type=\"default\" hover-class=\"button-hover\" class=\"getcodeBtn\" @tap.stop=\"getCode()\" :class=\"boolean?'bgColor':''\">{{getCodeText}}</button>\r\n\t\t\t\t<view class=\"password_login\">\r\n\t\t\t\t\t<text @tap='pwdLogin'>密码登录</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- #ifdef APP-PLUS||H5 -->\r\n\t\t<view class=\"login-footer\">\r\n\t\t\t<view class=\"\" style=\"text-align: center;padding-bottom: 20px;\">\r\n\t\t\t\t<text>登录代表阅读并同意</text>\r\n\t\t\t\t<text style=\"color: #86B0D4;\" @click.stop=\"userAgree\">《用户协议》</text>\r\n\t\t\t\t<text>和</text> \r\n\t\t\t\t<text style=\"color: #86B0D4;\" @click.stop=\"userPravicy\">《隐私政策》</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"footer-tip flex\">其他登录方式</view>\r\n\t\t\t<view class=\"footer-other flex\">\r\n\t\t\t\t<view class=\"other-list\">\r\n\t\t\t\t\t<image lazy-load src=\"../../static/image/wechat.png\" mode=\"aspectFill\" @tap=\"login_weixin()\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"other-list\">\r\n\t\t\t\t\t<image lazy-load src=\"../../static/image/telephone.png\" mode=\"aspectFill\" @tap=\"telephoneLogin()\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- #endif -->\r\n\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t<view class=\"\" style=\"position: fixed;bottom: 100rpx;left: 0;width: 100%;padding: 0 70rpx;\">\r\n\t\t\t\t<u-button :custom-style=\"customStyle\" @click=\"paramLogin\">微信用户快捷登录</u-button>\r\n\t\t\t</view>\r\n\t\t\t<u-modal v-model=\"wechatshow\" :show-title='false' :show-confirm-button='false'>\r\n\t\t\t\t<view class=\"slot-content\" style=\"padding: 40rpx 0;\">\r\n\t\t\t\t\t<view class=\"\" style=\"text-align: center;\">\r\n\t\t\t\t\t\t<uni-icons type=\"weixin\" size=\"40\" color=\"#04be13\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"\" style=\"padding: 40rpx 0;text-align: center;\">\r\n\t\t\t\t\t\t<text>微信授权注册后完成登录</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"\" style=\"padding: 0 30rpx;\">\r\n\t\t\t\t\t\t<button :custom-style=\"btncustomStyle\" style=\"font-size:15px;height: 100rpx;line-height: 100rpx;color: #FFFFFF;background-color:#04be13 ;\" open-type=\"getPhoneNumber\" @getphonenumber=\"getPhoneNumber\" withCredentials=\"true\">授权登录</button>\r\n\t\t\t\t\t\t<view class=\"\" style=\"text-align: center;padding: 15px 0 0px;font-size: 12px;\">\r\n\t\t\t\t\t\t\t<text @click=\"cancelLogin\" style=\"\">暂不登录</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</u-modal>\r\n\t\t\t<u-modal v-model=\"getUserInfo\" :show-title='false' :show-confirm-button='false'>\r\n\t\t\t\t<view class=\"slot-content\" style=\"padding: 40rpx 0;\">\r\n\t\t\t\t<view class=\"\" style=\"text-align: center;\">\r\n\t\t\t\t\t<uni-icons type=\"weixin\" size=\"40\" color=\"#04be13\"></uni-icons>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"\" style=\"padding: 40rpx 0;text-align: center;\">\r\n\t\t\t\t\t<text>微信授权获取用户信息</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"\" style=\"padding: 0 30rpx;\">\r\n\t\t\t\t\t<!-- <button :custom-style=\"btncustomStyle\" style=\"font-size:15px;height: 100rpx;line-height: 100rpx;color: #FFFFFF;background-color:#04be13 ;\" @getuserinfo=\"getUserInfor\" withCredentials=\"true\">授权</button> -->\r\n\t\t\t\t\t<button :custom-style=\"btncustomStyle\" style=\"font-size:15px;height: 100rpx;line-height: 100rpx;color: #FFFFFF;background-color:#04be13 ;\" @click=\"getUserInfor\">授权</button>\r\n\t\t\t\t\t<view class=\"\" style=\"text-align: center;padding: 15px 0 0px;font-size: 12px;\">\r\n\t\t\t\t\t\t<text @click=\"canceluserInfor\" style=\"\">暂不授权</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t    </u-modal>\r\n\t\t<!-- #endif -->\r\n\t</view>\r\n</template>\r\n<script> \r\n\timport {loginsendCode} from '@/utill/api/login/loginsendCode.js'\r\n\timport {wechatLogin} from '@/utill/api/login/wechatLogin.js'\r\n\timport {getLoginStatus} from '@/utill/api/login/getLoginStatus.js'\r\n\timport {miniBind,miniGetuserInfor} from '@/utill/api/login/miniBind.js'\r\n\timport {localTelLogin} from '@/utill/api/login/localTelLogin.js'\r\n\timport {loginTip} from '@/utill/tools/loginTip.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tboolean:false,//获取验证码背景色\r\n\t\t\t\tcustomStyle: {\r\n\t\t\t\t\tcolor: '#86B0D4'\r\n\t\t\t\t},\r\n\t\t\t\tbtncustomStyle:{\r\n\t\t\t\t\tfontSize:'15px'\r\n\t\t\t\t},\r\n\t\t\t\tphone: \"\",\r\n\t\t\t\tcode: '',\r\n\t\t\t\tkey: '',\r\n\t\t\t\tgetCodeText: '获取验证码',\r\n\t\t\t\tgetCodeBtnColor: \"#ffffff\",\r\n\t\t\t\tgetCodeisWaiting: false,\r\n\t\t\t\tareacode:'+'+86,\r\n\t\t\t\twechatshow:false,//微信获取手机号的授权弹窗\r\n\t\t\t\tsessionkey:'',//用户不存在情况下,返回的状态,用于获取用户手机号时传给后端\r\n\t\t\t\tgetUserInfo:false,//获取用户授权信息的弹窗\r\n\t\t\t\tunionId:null,\r\n\t\t\t\topenId:null,\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tuni.getProvider({\r\n\t\t\t    service: 'oauth',\r\n\t\t\t    success:(res)=> {\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t        console.log(res.provider)// ['qq', 'univerify']\r\n\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t        this.telephoneLogin();\r\n\t\t\t        // #endif\r\n\t\t\t    }\r\n\t\t\t});\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tconsole.log(options)//获取到想进入的页面数据\r\n\t\t\t// 将这个数据存在在vuex中\r\n\t\t\tthis.$store.commit('savePages',options)\r\n\t\t\tconsole.log(this.$store.state.PagesUrl)\r\n\t\t\tconsole.log(this.$store.state.PagesType)\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\tphone(newValue,oldValue){\r\n\t\t\t\tif ((/^1(3|4|5|6|7|8|9)\\d{9}$/.test(newValue))) {\r\n\t\t\t\t\tthis.boolean=true\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.boolean=false\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 本地手机号一键登录\r\n\t\t\ttelephoneLogin(){\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t    title: '加载中',\r\n\t\t\t\t    icon: 'none'\r\n\t\t\t\t})\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tuni.preLogin({//如果当前设备环境不支持一键登录，此时应该显示其他的登录选项。如果手机没有插入有效的sim卡，或者手机蜂窝数据网络关闭，都有可能造成预登陆校验失败。\r\n\t\t\t\t    provider: 'univerify',\r\n\t\t\t\t    success(){  //预登录成功\r\n\t\t\t\t        // 显示一键登录选项\r\n\t\t\t\t\t\tconsole.log(_this.$store.state.PagesUrl)\r\n\t\t\t\t\t\tuni.login({\r\n\t\t\t\t\t\t    provider: 'univerify',\r\n\t\t\t\t\t\t    univerifyStyle: { // 自定义登录框样式\r\n\t\t\t\t\t\t\t\"fullScreen\": true,\r\n\t\t\t\t\t\t\t \"backgroundColor\": \"#ffffff\",  \r\n\t\t\t\t\t\t\t    \"icon\": {\r\n\t\t\t\t\t\t\t        \"path\": \"\",//可选 自定义本地图片 默认显示logo \r\n\t\t\t\t\t\t\t        \"width\": \"60\",\r\n\t\t\t\t\t\t\t        \"height\": \"60\"\r\n\t\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t\t    \"phoneNum\": {\r\n\t\t\t\t\t\t\t        \"color\": \"#000000\",\r\n\t\t\t\t\t\t\t        \"fontSize\": \"18\"\r\n\t\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t\t    \"slogan\": {\r\n\t\t\t\t\t\t\t        \"color\": \"#8a8b90\",\r\n\t\t\t\t\t\t\t        \"fontSize\": \"12\"\r\n\t\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t\t    \"authButton\": {\r\n\t\t\t\t\t\t\t        \"normalColor\": \"#3479f5\",\r\n\t\t\t\t\t\t\t        \"highlightColor\": \"#2861c5\",\r\n\t\t\t\t\t\t\t        \"disabledColor\": \"#73aaf5\",//仅ios支持\r\n\t\t\t\t\t\t\t        \"width\": \"32px\",\r\n\t\t\t\t\t\t\t        \"height\": \"94px\",\r\n\t\t\t\t\t\t\t        \"textColor\": \"#ffffff\",\r\n\t\t\t\t\t\t\t        \"title\": \"本机号码一键登录\"\r\n\t\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t\t    \"otherLoginButton\": {\r\n\t\t\t\t\t\t\t        \"visible\": \"true\", //是否显示其他登录按钮，默认显示\r\n\t\t\t\t\t\t\t        \"normalColor\": \"#f8f8f8\",\r\n\t\t\t\t\t\t\t        \"highlightColor\": \"#dedede\",\r\n\t\t\t\t\t\t\t        \"width\": \"32px\",\r\n\t\t\t\t\t\t\t        \"height\": \"94px\",\r\n\t\t\t\t\t\t\t        \"textColor\": \"#000000\",\r\n\t\t\t\t\t\t\t        \"title\": \"其他登录方式\",\r\n\t\t\t\t\t\t\t        \"borderWidth\": \"1px\",//仅ios支持\r\n\t\t\t\t\t\t\t        \"borderColor\": \"#c5c5c5\"//仅ios支持\r\n\t\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t\t    \"privacyTerms\": {\r\n\t\t\t\t\t\t\t        \"textColor\": \"#8a8b90\", //文字颜色\r\n\t\t\t\t\t\t\t        \"termsColor\": \"#1d4788\", //协议文字颜色\r\n\t\t\t\t\t\t\t        \"prefix\": \"我已阅读并同意\",\r\n\t\t\t\t\t\t\t        \"suffix\": \"并使用本机号码登录\",\r\n\t\t\t\t\t\t\t        \"fontSize\": 12,\r\n\t\t\t\t\t\t\t        \"privacyItems\": [\r\n\t\t\t\t\t\t\t            {\r\n\t\t\t\t\t\t\t                \"url\": \"https://mobile.shoyii.com/#/pages/aboutShoyii/userAgree\",\r\n\t\t\t\t\t\t\t                \"title\": \"用户服务协议\"\r\n\t\t\t\t\t\t\t            }\r\n\t\t\t\t\t\t\t        ]\r\n\t\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t    },\r\n\t\t\t\t\t\t    success(res){ // 登录成功\r\n\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t        console.log(res.authResult);  // {openid:'deviceIDlength+deviceID+gyuid',access_token:'接口返回的 token'}\r\n\t\t\t\t\t\t\t\tuniCloud.callFunction({//获取本机号码\r\n\t\t\t\t\t\t\t\t  name: 'getPhoneNumber',\r\n\t\t\t\t\t\t\t\t  data: {\r\n\t\t\t\t\t\t\t\t    'access_token':res.authResult.access_token, // 客户端一键登录接口返回的access_token\r\n\t\t\t\t\t\t\t\t    'openid':res.authResult.openid  // 客户端一键登录接口返回的openid\r\n\t\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\t\t// 登录成功，可以关闭一键登陆授权界面了\r\n\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t\tconsole.log(res.result)\r\n\t\t\t\t\t\t\t\t\tvar phoneNumber=res.result.res.phoneNumber\r\n\t\t\t\t\t\t\t\t\tif(res.result.res.code==0){\r\n\t\t\t\t\t\t\t\t\t\tlocalTelLogin({\r\n\t\t\t\t\t\t\t\t\t\t\ttelephone:phoneNumber\r\n\t\t\t\t\t\t\t\t\t\t}).then(res=>{//成功之后，再跳转页面\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t\t\t\tuni.report('telephoneLogin',{//一键登陆统计上报\r\n\t\t\t\t\t\t\t\t\t\t\t\ttelephone:phoneNumber,\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(Array.isArray(res.data.object)){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\turl:'/pages/login/accountLogin?data='+encodeURIComponent(JSON.stringify(res.data.object))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}else{//直接登录\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tloginTip(res,_this.$store.state.PagesUrl,_this.$store.state.PagesType)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.closeAuthView()\r\n\t\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle:res.data.msg,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.closeAuthView()\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t\t\t\t\t\tuni.closeAuthView()\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\t\t\t\t\t//4100:errCode: 4100 | errMsg: 获取手机号码失败：uni一键登录账户余额不足\r\n\t\t\t\t\t\t\t\t\tconsole.log(err) \r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle:'请选择其他方式登录',\r\n\t\t\t\t\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\t\t\t\t\tduration:4000,\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\tuni.closeAuthView()\r\n\t\t\t\t\t\t\t\t  // 处理错误\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t    fail(res){  // 登录失败\r\n\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t        console.log(res.errCode)\r\n\t\t\t\t\t\t        console.log(res.errMsg)\r\n\t\t\t\t\t\t\t\tuni.report('telLoginFail',{//登录失败统计上报\r\n\t\t\t\t\t\t\t\t\terror_data:res\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t// 30002 login:fail 用户点击了其他登录方式\r\n\t\t\t\t\t\t\t\tif(res.errCode=='30002'){\r\n\t\t\t\t\t\t\t\t\tuni.closeAuthView()\r\n\t\t\t\t\t\t\t\t}else if(res.errCode=='30003'){//用户关闭验证界面\r\n\t\t\t\t\t\t\t\t\tconsole.log('用户关闭验证界面')\r\n\t\t\t\t\t\t\t\t}else if(res.errCode=='30006'){// login:fail -20202{\"error_data\":\"没有开启数据流量 或者是 当前网络不可用\"}\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle:'请开启数据流量',\r\n\t\t\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t})\r\n\t\t\t\t    },\r\n\t\t\t\t    fail(res){  // 预登录失败\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t        // 不显示一键登录选项（或置灰）\r\n\t\t\t\t        console.log(res.errCode)\r\n\t\t\t\t        console.log(res.errMsg)\r\n\t\t\t\t\t\tuni.report('preLogin',{//预登录失败统计上报\r\n\t\t\t\t\t\t\terror_data:res\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// preLogin:fail provider not find//当前环境不支持一键登录\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'当前环境不支持一键登录',\r\n\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tuni.closeAuthView()\r\n\t\t\t\t    }\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 关闭注册登陆页面\r\n\t\t\tclose(){\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta:1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tregister(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"/pages/register/register\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 进入获取区号页面\r\n\t\t\tareaCode(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"\",\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 密码登陆\r\n\t\t\tpwdLogin(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:\"/pages/login/pwdLogin?telephone=\"+this.phone,\r\n\t\t\t\t\tanimationType:\"pop-in\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetCode() {\r\n\t\t\t\tconsole.log(this.phone)\r\n\t\t\t\tif(this.phone==''){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '手机号码不能为空',\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (!(/^1(3|4|5|6|7|8|9)\\d{9}$/.test(this.phone))) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请填写正确手机号码',\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tloginsendCode({\r\n\t\t\t\t\ttelephone:this.phone\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif(res.data.code==0){\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl:\"/pages/login/telloginitem?phone=\"+this.phone+'&'+'area=' + '86',\r\n\t\t\t\t\t\t\tanimationType:\"slide-in-top\",\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// 验证码发送成功，则进入登陆页面\t\t\t\t\r\n\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsetTimer() {\r\n\t\t\t\tlet holdTime = 59,\r\n\t\t\t\t\t_this = this;\r\n\t\t\t\t_this.getCodeText = \"重新获取(60)\"\r\n\t\t\t\t_this.Timer = setInterval(() => {\r\n\t\t\t\t\tif (holdTime <= 0) {\r\n\t\t\t\t\t\t_this.getCodeisWaiting = false;\r\n\t\t\t\t\t\t_this.getCodeBtnColor = \"#ffffff\";\r\n\t\t\t\t\t\t_this.getCodeText = \"获取验证码\"\r\n\t\t\t\t\t\tclearInterval(_this.Timer);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_this.getCodeText = \"重新获取(\" + holdTime + \")\"\r\n\t\t\t\t\tholdTime--;\r\n\t\t\t\t}, 1000)\r\n\t\t\t},\r\n\t\t\t//微信登录\r\n\t\t\tlogin_weixin() {\r\n\t\t\t\tvar aweixin=null;\r\n\t\t\t\t// // 当前环境支持的所有授权登录对象\r\n\t\t\t\t// var auths = {};\r\n\t\t\t\t// // 获取登录授权认证服务列表，单独保存微信登录授权对象\r\n\t\t\t\t// // 5+APP在plusready事件中调用，uni-app在vue页面的onLoad中调用\r\n\t\t\t\tvar _this=this\r\n\t\t\t\tplus.oauth.getServices(function(services){\r\n\t\t\t\t\tconsole.log(services)\r\n\t\t\t\t\tservices.forEach((item)=>{\r\n\t\t\t\t\t\tif(item.id=='weixin'){\r\n\t\t\t\t\t\t\taweixin = item;\r\n\t\t\t\t\t\t\tconsole.log(aweixin)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif(!aweixin){//没有取得微信登陆的服务\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'当前环境不支持微信登录',\r\n\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!aweixin.authResult){//是否登录认证过\r\n\t\t\t\t\t\taweixin.authorize((e)=>{\r\n\t\t\t\t\t\t\tconsole.log(e) //为什么授权两次 //返回的code可以上传服务器获取数据\r\n\t\t\t\t\t\t\taweixin.login((e)=>{\r\n\t\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\t\ttitle:'数据加载中'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\t\t\t\t// console.log(e.target.userInfo.unionid)\r\n\t\t\t\t\t\t\t\tif(!e.target.userInfo.unionid){\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle:'数据问题,请使用密码登录',\r\n\t\t\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t\t\t}) \r\n\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// 调取后端登录接口\r\n\t\t\t\t\t\t\t\twechatLogin({\r\n\t\t\t\t\t\t\t\t\tunionId:e.target.userInfo.unionid\r\n\t\t\t\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t\tif(res.data.code==0){//已经绑定可手机号，根据不同的审核状态，判断是否看到页面\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\t\t\tif(Array.isArray(res.data.object)){\r\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\t\t\turl:'/pages/login/accountLogin?data='+encodeURIComponent(JSON.stringify(res.data.object))\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}else{//直接登录\r\n\t\t\t\t\t\t\t\t\t\t\tloginTip(res,_this.$store.state.PagesUrl,_this.$store.state.PagesType)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}else if(res.data.code==11){\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle:res.data.msg,\r\n\t\t\t\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t\t\t}else{//没有绑定手机号，属于新用户,跳转到绑定手机号页面,需要将微信数据传送过来\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\t\turl:'/pages/login/bindTel?weixinInfor='+encodeURIComponent(JSON.stringify(e.target.userInfo)),\r\n\t\t\t\t\t\t\t\t\t\t\tanimationType:'pop-in',\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t},(e)=>{\r\n\t\t\t\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle:'登录认证失败',\r\n\t\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t},(e)=>{\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:'登录授权失败',\r\n\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tconsole.log('已经登录过了')\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'请使用其他登录方式',\r\n\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\taweixin.getUserInfo(function(e){\r\n\t\t\t\t\t\t\tconsole.log(e.target.userInfo)\r\n\t\t\t\t\t\t},function(err){\r\n\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}, function(e){\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'获取登录授权服务列表失败',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t} );\r\n\t\t\t\t\r\n\t\t\t\t// 通常登录前需要先调用authorize方法进行授权\r\n\t\t\t},\r\n\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t// 获取用户手机号\r\n\t\t\tgetPhoneNumber (e) {//同意之后，才能使用\r\n\t\t\t\tconsole.log('一键登陆')\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tif(e.detail.errMsg==\"getPhoneNumber:ok\"){//用户接受授权\r\n\t\t\t\t\tconsole.log(e.detail.errMsg)\r\n\t\t\t\t\tconsole.log(e.detail.iv)\r\n\t\t\t\t\tconsole.log(e.detail.encryptedData)\r\n\t\t\t\t\tminiBind({\r\n\t\t\t\t\t\tcode:this.sessionkey,\r\n\t\t\t\t\t\tencryptedData:e.detail.encryptedData,\r\n\t\t\t\t\t\tiv:e.detail.iv\r\n\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif(res.data.code==0){//用户授权成功后,需要再进行个人信息的授权\r\n\t\t\t\t\t\t\tif(Array.isArray(res.data.object)){\r\n\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\turl:'/pages/login/accountLogin?data='+encodeURIComponent(JSON.stringify(res.data.object))\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}else{//直接登录\r\n\t\t\t\t\t\t\t\tloginTip(res,this.$store.state.PagesUrl,this.$store.state.PagesType)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{//\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:res.data.msg,\r\n\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{//用户取消授权,则注册失败,返回一键登陆的页面\r\n\t\t\t\t\tthis.wechatshow=false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 暂不登录\r\n\t\t\tcancelLogin(){\r\n\t\t\t\tthis.wechatshow=false\r\n\t\t\t},\r\n\t\t\t// 获取用户信息取消授权\r\n\t\t\tcanceluserInfor(){\r\n\t\t\t\tthis.getUserInfo=false\r\n\t\t\t},\r\n\t\t\t// 用户信息授权\r\n\t\t\tgetUserInfor(){\r\n\t\t\t\tvar _this=this\r\n\t\t\t\twx.getUserProfile({\r\n\t\t\t\t\tdesc:'个人信息页面展示',\r\n\t\t\t\t\tsuccess(e){\r\n\t\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\t\tif(e.errMsg==\"getUserProfile:ok\"){\r\n\t\t\t\t\t\t\tconsole.log(_this.sessionkey)\r\n\t\t\t\t\t\t\tminiGetuserInfor({\r\n\t\t\t\t\t\t\t\tcode:_this.sessionkey,\r\n\t\t\t\t\t\t\t\twxUser:{\r\n\t\t\t\t\t\t\t\t\topenId:_this.openId,\r\n\t\t\t\t\t\t\t\t\tunionId:_this.unionId,\r\n\t\t\t\t\t\t\t\t\tsex:e.userInfo.gender,\r\n\t\t\t\t\t\t\t\t\tnickName:e.userInfo.nickName,\r\n\t\t\t\t\t\t\t\t\theadImgUrl:e.userInfo.avatarUrl,\r\n\t\t\t\t\t\t\t\t\tcountry:e.userInfo.country,\r\n\t\t\t\t\t\t\t\t\tprovince:e.userInfo.province,\r\n\t\t\t\t\t\t\t\t\tcity:e.userInfo.city,\r\n\t\t\t\t\t\t\t\t\tlanguage:e.userInfo.language,\r\n\t\t\t\t\t\t\t\t\tsubscribe:'',\r\n\t\t\t\t\t\t\t\t\tsubscribetime:'',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t}).then(res=>{ \r\n\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\tif(res.data.code==0){//用户授权成功后,需要再进行手机号的授权\r\n\t\t\t\t\t\t\t\t\t_this.getUserInfo=false\r\n\t\t\t\t\t\t\t\t\t_this.wechatshow=true \r\n\t\t\t\t\t\t\t\t}else{//\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle:res.data.msg,\r\n\t\t\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}else{//用户取消授权\r\n\t\t\t\t\t\t\t_this.getUserInfo=false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err){\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 小程序的登陆\r\n\t\t\tparamLogin(){\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tsuccess:(e)=> {//发送code到后端,换取登陆状态\r\n\t\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\t\tconsole.log(e.code) \r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle:'加载中'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tgetLoginStatus({\r\n\t\t\t\t\t\t\tjsCode:e.code\r\n\t\t\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\tif(res.data.code==0){//用户存在,并且登录成功\r\n\t\t\t\t\t\t\t\tif(Array.isArray(res.data.object)){\r\n\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\turl:'/pages/login/accountLogin?data='+encodeURIComponent(JSON.stringify(res.data.object))\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}else{//直接登录\r\n\t\t\t\t\t\t\t\t\tloginTip(res,this.$store.state.PagesUrl,this.$store.state.PagesType)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else if(res.data.code==10){//用户未绑定,弹窗,用户进行手机号码的获取,并将返回的状态同微信参数返回给后端\r\n\t\t\t\t\t\t\t\tthis.sessionkey=res.data.object.code\r\n\t\t\t\t\t\t\t\tthis.unionId=res.data.object.unionId\r\n\t\t\t\t\t\t\t\tthis.openId=res.data.object.openId\r\n\t\t\t\t\t\t\t\tthis.getUserInfo=true\r\n\t\t\t\t\t\t\t}else if(res.data.code==40029){//code失效,\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle:'请重新授权登录',\r\n\t\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t\t})   \r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{//其他情况 \r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle:res.data.msg,\r\n\t\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).catch(err=>{\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\tconsole.log('err')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// #endif\r\n\t\t\t// 用户协议\r\n\t\t\tuserAgree(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'/pages/aboutShoyii/userAgree'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 隐私政策\r\n\t\t\tuserPravicy(){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl:'/pages/aboutShoyii/privacyPolicy'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.bgColor{\r\n\t\tbackground-color: #86B0D4!important;\r\n\t\tcolor: #FFFFFF!important;\r\n\t}\r\n\t.login {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tpadding: 0 30rpx;\r\n\t}\r\n\t.login-main {\r\n\t\tpadding: 0 70rpx;\r\n\t\tmargin-top: 260rpx;\r\n\t}\r\n\t.title_tip{\r\n\t\tcolor: #000000;\r\n\t\tfont-size: 42rpx;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\t.tel_login{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 10rpx 0;\r\n\t\tborder-bottom: 4rpx solid #EEEEEE;\r\n\t\tmargin-top: 70rpx;\r\n\t}\r\n\t.tel_login .uni-icons{\r\n\t\tmargin: 0 16rpx;\r\n\t}\r\n\t.getcodeBtn{\r\n\t\tbackground: #EBEBEB;\r\n\t\tcolor: #8F8F8F;\r\n\t\tmargin-top: 45rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t}\r\n\t.button-hover{\r\n\t\tcolor: #FFFFFF;\r\n\t\tbackground: #86B0D4;\r\n\t}\r\n\t.password_login{\r\n\t\ttext-align: center;\r\n\t\tpadding: 60rpx 0;\r\n\t\tcolor: #666666;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\t.flex{\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.login-footer {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\tleft: 0;\r\n\t\tpadding: 0 60rpx;\r\n\t\t.footer-tip {\r\n\t\t\talign-items: center;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999999;\r\n\t\t\ttext-align: center;\r\n\t\t\t&:before {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tcontent: '';\r\n\t\t\t\theight: 2rpx;\r\n\t\t\t\tbackground: #D0D0D0;\r\n\t\t\t\tmargin-right: 30rpx;\r\n\t\t\t}\r\n\t\t\t&:after {\r\n\t\t\t\tmargin-left: 30rpx;\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tcontent: '';\r\n\t\t\t\theight: 2rpx;\r\n\t\t\t\tbackground: #D0D0D0;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.footer-other {\r\n\t\t\tpadding: 40rpx 0 100rpx 0;\r\n\t\t\tjustify-content: center;\r\n\t\t\t.other-list {\r\n\t\t\t\twidth: 80rpx;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\tmargin: 0 75rpx;\r\n\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tellogin.vue?vue&type=style&index=0&id=6de196cd&lang=scss&scoped=true&\"; export default mod; export * from \"-!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!d:\\\\Downloads\\\\HBuilderX.2.8.11.20200907.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tellogin.vue?vue&type=style&index=0&id=6de196cd&lang=scss&scoped=true&\""],"sourceRoot":""}