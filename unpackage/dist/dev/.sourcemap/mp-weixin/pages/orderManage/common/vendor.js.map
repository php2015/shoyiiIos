{"version":3,"sources":["uni-app:///utill/tools/timestamp.js"],"names":["JUST_NOW","IN_SECOND","IN_MINUTE","IN_HOUR","IN_DAY","IN_MONTH","module","exports","time","options","date","Date","y","getFullYear","m","getMonth","d","getDate","h","getHours","minute","getMinutes","second","getSeconds","relativtime","localTime","createTime","diff","parseInt","list","toString","split","lastIndex","lastIndexOf","realtime","substring","nowTime","month","getNumberMonth"],"mappings":";;;;4CAEA,IAAMA,EAAW,IACVC,EAAY,IACZC,EAAY,KACZC,EAAU,MACVC,EAAS,MACTC,EAAW,OAClBC,EAAOC,QAAQ,CACXC,KADW,SACNC,GACD,IAAIC,EAAO,IAAIC,KAAKF,GAChBG,EAAIF,EAAKG,cACTC,EAAIJ,EAAKK,WAAa,EAC1BD,EAAIA,EAAI,GAAM,IAAMA,EAAKA,EACzB,IAAIE,EAAIN,EAAKO,UACbD,EAAIA,EAAI,GAAM,IAAMA,EAAKA,EACzB,IAAIE,EAAIR,EAAKS,WACbD,EAAIA,EAAI,GAAM,IAAMA,EAAKA,EACzB,IAAIE,EAASV,EAAKW,aACdC,EAASZ,EAAKa,aAGlB,OAFAH,EAASA,EAAS,GAAM,IAAMA,EAAUA,EACxCE,EAASA,EAAS,GAAM,IAAMA,EAAUA,EACjCV,EAAI,IAAME,EAAI,IAAME,EAAI,IAAME,EAAI,IAAKE,EAAO,IAAIE,GAEhEE,YAhBc,SAgBFhB,GACT,IAAIiB,EAAY,IAAId,KAEhBe,EAAa,IAAIf,KAAKH,GAGtBmB,EAAOF,EAAYC,EAEvB,GAAIC,GAAQ3B,EACV,MAAO,KACJ,GAAI2B,GAAQ1B,EACf,MAAO,OACJ,GAAI0B,GAAQzB,EACf,OAAO0B,SAASD,EAAO1B,GAAa,MACjC,GAAI0B,GAAQzB,EACf,OAAO0B,SAASD,EAAOzB,GAAa,MACjC,GAAIyB,GAAkB,EAAVxB,EAAa,CAC5B,IAAM0B,EAAOH,EAAWI,WAAWC,MAAM,KAEnCC,EAAYH,EAAK,GAAGI,YAAY,KAEhCC,EAAWL,EAAK,GAAGC,WAAWK,UAAU,EAAGH,GAE9CI,EAAQX,EAAUK,WAAWC,MAAM,KACzC,OAAGF,EAAK,GAAGO,EAAQ,GACX,KAAKF,EAELA,EAEA,GAAIP,EAAgB,EAATvB,EAChB,OAAIuB,EAAOvB,EACFwB,SAASD,EAAOxB,GAAW,KAE/ByB,SAASD,EAAOvB,GAAU,KAmB1B,GAAIuB,EAAgB,GAATtB,EAAa,CAC/B,IAAMwB,EAAOH,EAAWI,WAAWC,MAAM,KACnCM,EAAQR,EAAK,GACfK,EAAW,GAMf,OALIP,EAAOtB,EACV6B,GAAYI,EAAeD,GAAO,IAElCH,EAAWL,EAAK,GAAK,IAAMS,EAAeD,GAAO,IAE3CH,EAAWL,EAAK,GAAI,IAE1B,IAAMA,EAAOH,EAAWI,WAAWC,MAAM,KACnCM,EAAQR,EAAK,GACfK,EAAWL,EAAK,GAAK,IAAMS,EAAeD,GAC9C,OAAOH,EAAW,IAAML,EAAK,GAEhC,SAASS,EAAeD,GACtB,OAAQA,GACL,IAAK,MACH,MAAO,IACT,IAAK,MACH,MAAO,IACT,IAAK,MACH,MAAO,IACT,IAAK,MACH,MAAO,IACT,IAAK,MACH,MAAO,IACT,IAAK,OACH,MAAO,IACT,IAAK,OACH,MAAO,IACT,IAAK,MACH,MAAO,IACT,IAAK,OACH,MAAO,IACT,IAAK,MACH,MAAO,KACT,IAAK,MACH,MAAO,KACT,IAAK,MACH,MAAO","file":"pages/orderManage/common/vendor.js","sourcesContent":["// 时间戳精准到分秒\r\n\r\nconst JUST_NOW = 3000; //3s内\r\n const IN_SECOND = 1000 * 60; //一分钟\r\n const IN_MINUTE = 1000 * 60 * 60; //一小时\r\n const IN_HOUR = 1000 * 60 * 60 * 12; //12小时\r\n const IN_DAY = 1000 * 60 * 60 * 24 * 1; //1天\r\n const IN_MONTH = 1000 * 60 * 60 * 24 * 30; //1个月\r\nmodule.exports={\r\n    time(options){\r\n        var date = new Date(options)\r\n        var y = date.getFullYear()\r\n        var m = date.getMonth() + 1\r\n        m = m < 10 ? ('0' + m) : m\r\n        var d = date.getDate()\r\n        d = d < 10 ? ('0' + d) : d\r\n        var h = date.getHours()\r\n        h = h < 10 ? ('0' + h) : h\r\n        var minute = date.getMinutes()\r\n        var second = date.getSeconds()\r\n        minute = minute < 10 ? ('0' + minute) : minute\r\n        second = second < 10 ? ('0' + second) : second\r\n        return y + '-' + m + '-' + d + ' ' + h + ':'+ minute+':'+second     \r\n    },\r\n\trelativtime(time){\r\n\t\t  let localTime = new Date(); //当前系统时间\r\n\t\t  // console.log(localTime) //Mon Mar 22 2021 10:20:43 GMT+0800 (中国标准时间)\r\n\t\t  let createTime = new Date(time) //消息创建时间\r\n\t\t  // let createTime =new Date(1616309398000) //转化为标准时间\r\n\t\t  // console.log(createTime) //时间戳\r\n\t\t  let diff = localTime - createTime;\r\n\t\t  // console.log(diff)\r\n\t\t  if (diff <= JUST_NOW)\r\n\t\t    return '刚刚';\r\n\t\t  else if (diff <= IN_SECOND)\r\n\t\t    return \"1分钟内\";\r\n\t\t  else if (diff <= IN_MINUTE)\r\n\t\t    return parseInt(diff / IN_SECOND) + '分钟前';\r\n\t\t  else if (diff <= IN_MINUTE)\r\n\t\t    return parseInt(diff / IN_MINUTE) + '小时前';\r\n\t\t  else if (diff <= IN_HOUR * 2) {//<=24h\r\n\t\t    const list = createTime.toString().split(\" \");\r\n\t\t\t// console.log(list)\r\n\t\t    const lastIndex = list[4].lastIndexOf(\":\") //查找：最后一次出现的位置，没有匹配，返回-1\r\n\t\t\t// console.log(lastIndex)\r\n\t\t    const realtime = list[4].toString().substring(0, lastIndex);\r\n\t\t\t// console.log(realtime)\r\n\t\t\tconst nowTime=localTime.toString().split(\" \");\r\n\t\t\tif(list[2]<nowTime[2]){\r\n\t\t\t\treturn '昨天'+realtime;\r\n\t\t\t}else{\r\n\t\t\t\treturn realtime;\r\n\t\t\t}\r\n\t\t  } else if (diff < IN_DAY * 7) {//7天之内\r\n\t\t    if (diff < IN_DAY) {//<1天\r\n\t\t      return parseInt(diff / IN_HOUR) + '天前';\r\n\t\t    }else{\r\n\t\t\t\treturn parseInt(diff / IN_DAY) + '天前';\r\n\t\t\t}\r\n\t\t\t// const t = createTime.toString().slice(0, 3);\r\n\t\t\t// switch (t) {\r\n\t\t\t//   case \"Mon\":\r\n\t\t\t// \treturn '星期一';\r\n\t\t\t//   case \"Tue\":\r\n\t\t\t// \treturn '星期二';\r\n\t\t\t//   case \"Wed\":\r\n\t\t\t// \treturn '星期三';\r\n\t\t\t//   case \"Thu\":\r\n\t\t\t// \treturn '星期四';\r\n\t\t\t//   case \"Fri\":\r\n\t\t\t// \treturn '星期五';\r\n\t\t\t//   case \"Sat\":\r\n\t\t\t// \treturn '星期六';\r\n\t\t\t//   case \"Sun\":\r\n\t\t\t// \treturn '星期日';\r\n\t\t\t// }\r\n\t\t  } else if (diff < IN_MONTH*24) {//一年内\r\n\t\t\t\tconst list = createTime.toString().split(\" \");\r\n\t\t\t\tconst month = list[1];\r\n\t\t\t\tvar realtime = \"\";\r\n\t\t\t\tif (diff < IN_MONTH) {//一月内\r\n\t\t\t\t\trealtime += getNumberMonth(month)+\"月\";//月\r\n\t\t\t\t} else {\r\n\t\t\t\t\trealtime = list[3] + \"年\" + getNumberMonth(month)+\"月\";//年-月\r\n\t\t\t\t}\r\n\t\t\t\treturn realtime + list[2] +\"日\"; //年月日或者月日\r\n\t\t  }else{\r\n\t\t\t  const list = createTime.toString().split(\" \");\r\n\t\t\t  const month = list[1];\r\n\t\t\t  var realtime = list[3] + \"-\" + getNumberMonth(month);//年-月\r\n\t\t\t  return realtime + \"-\" + list[2]; //年月日\r\n\t\t  };\r\n\t\tfunction getNumberMonth(month){\r\n\t\t\t switch (month) {\r\n\t\t\t    case \"Jan\":\r\n\t\t\t      return \"1\";\r\n\t\t\t    case \"Feb\":\r\n\t\t\t      return \"2\";\r\n\t\t\t    case \"Mar\":\r\n\t\t\t      return \"3\";\r\n\t\t\t    case \"Apr\":\r\n\t\t\t      return \"4\";\r\n\t\t\t    case \"May\":\r\n\t\t\t      return \"5\";\r\n\t\t\t    case \"June\":\r\n\t\t\t      return \"6\";\r\n\t\t\t    case \"July\":\r\n\t\t\t      return \"7\";\r\n\t\t\t    case \"Aug\":\r\n\t\t\t      return \"8\";\r\n\t\t\t    case \"Sept\":\r\n\t\t\t      return \"9\";\r\n\t\t\t    case \"Oct\":\r\n\t\t\t      return \"10\";\r\n\t\t\t    case \"Nov\":\r\n\t\t\t      return \"11\";\r\n\t\t\t    case \"Dec\":\r\n\t\t\t      return \"12\";\r\n\t\t\t  }\r\n\t\t};\r\n\t\tfunction isThisWeek(time) {\r\n\t\t\t    // 当前时间\r\n\t\t\t    var timestamp = Date.parse(new Date());\r\n\t\t\t    var serverDate = new Date(timestamp);\r\n\t\t\t    //本周周日的的时间\r\n\t\t\t    var sundayTiem = timestamp + ((7 - serverDate.getDay())* 24 * 60 * 60 * 1000)\r\n\t\t\t    var SundayData = new Date(sundayTiem);\r\n\t\t\t    //年\r\n\t\t\t    var tomorrowY = SundayData.getFullYear();\r\n\t\t\t    //月\r\n\t\t\t    var tomorrowM = (SundayData.getMonth() + 1 < 10 ? '0' + (SundayData.getMonth() + 1) : SundayData.getMonth() + 1);\r\n\t\t\t    //日\r\n\t\t\t    var tomorrowD = SundayData.getDate() < 10 ? '0' + SundayData.getDate() : SundayData.getDate();\r\n\t\t\t    // 本周周一的时间\r\n\t\t\t    var mondayTime = timestamp - ((serverDate.getDay()-1) * 24 * 60 * 60 * 1000)\r\n\t\t\t    var mondayData = new Date(mondayTime);\r\n\t\t\t    //年\r\n\t\t\t    var mondayY = mondayData.getFullYear();\r\n\t\t\t    //月\r\n\t\t\t    var mondayM = (mondayData.getMonth() + 1 < 10 ? '0' + (mondayData.getMonth() + 1) : mondayData.getMonth() + 1);\r\n\t\t\t    //日\r\n\t\t\t    var mondayD = mondayData.getDate() < 10 ? '0' + mondayData.getDate() : mondayData.getDate();\r\n\t\t\t    // 当前时间\r\n\t\t\t    var currentData = new Date(time);\r\n\t\t\t\tconsole.log(currentData)\r\n\t\t\t    //年\r\n\t\t\t    var currentY = currentData.getFullYear();\r\n\t\t\t    //月\r\n\t\t\t    var currentM = (currentData.getMonth() + 1 < 10 ? '0' + (currentData.getMonth() + 1) : currentData.getMonth() + 1);\r\n\t\t\t    //日\r\n\t\t\t    var currentD = currentData.getDate() < 10 ? '0' + currentData.getDate() : currentData.getDate();\r\n\t\t\t    //时\r\n\t\t\t    var currenH = currentData.getHours();\r\n\t\t\t    //分\r\n\t\t\t    var currenM = currentData.getMinutes();\r\n\t\t\t    var sundayDay = tomorrowY + tomorrowM + tomorrowD; //周日时间\r\n\t\t\t    var mondayDay = mondayY + mondayM + mondayD;//周一时间\r\n\t\t\t    var currentDay = currentY + currentM + currentD;//获取到的时间\r\n\t\t\t    parseInt(currentDay);\r\n\t\t\t    parseInt(mondayDay);\r\n\t\t\t    if (parseInt(currentDay) >= parseInt(mondayDay)) {\r\n\t\t\t\t\tif (parseInt(currentDay) <= parseInt(sundayDay)) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {//不是本周\r\n\t\t\t    \t    return false;\r\n\t\t\t\t\t}\r\n\t\t\t    }\r\n\t\t\t\telse { //非本周\r\n\t\t\t      return false;\r\n\t\t\t    }\r\n\t\t}\r\n\t},\r\n}"],"sourceRoot":""}