(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-weather-weather"],{"4bba":function(e,t,a){"use strict";(function(e){var s=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;s(a("d4a2"));var i={data:function(){return{bgImage:a("c434"),amapPlugin:null,key:"34c1d7c06f414ab22e27351bf0c8ef53",weather:{city:{},weather:{},temperature:{},winddirection:{},windpower:{},humidity:{},liveData:{}}}},methods:{getweather:function(){var t=this;this.amapPlugin.getWeather({success:function(a){e.log(a),uni.setNavigationBarTitle({title:a.city.data}),t.weather=a},fail:function(t){e.log(t)}})}},onLoad:function(){}};t.default=i}).call(this,a("5a52")["default"])},"4fa46":function(e,t,a){"use strict";a.r(t);var s=a("4bba"),i=a.n(s);for(var o in s)"default"!==o&&function(e){a.d(t,e,(function(){return s[e]}))}(o);t["default"]=i.a},"52f9":function(e,t,a){"use strict";var s;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return s}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"weatherAll"},[a("v-uni-image",{staticClass:"bg-set",attrs:{src:e.bgImage}}),a("v-uni-view",{staticClass:"weatherData"},[a("v-uni-view",{staticClass:"weather"},[a("v-uni-text",{staticStyle:{"font-size":"48rpx"}},[e._v(e._s(e.weather.city.data))])],1),a("v-uni-view",{staticClass:"weather"},[a("v-uni-text",{staticStyle:{"font-size":"72rpx"}},[e._v(e._s(e.weather.temperature.data)+" °")])],1),a("v-uni-view",{staticClass:"weather"},[a("v-uni-text",{staticStyle:{"font-size":"36rpx","margin-right":"20rpx"}},[e._v(e._s(e.weather.weather.data))]),a("v-uni-text",{staticStyle:{"font-size":"36rpx"}},[e._v(e._s(e.weather.humidity.text)+" "+e._s(e.weather.humidity.data))])],1),a("v-uni-view",{staticClass:"weather"},[a("v-uni-text",{staticStyle:{"font-size":"36rpx"}},[e._v(e._s(e.weather.windpower.text)+" "+e._s(e.weather.windpower.data))])],1),a("v-uni-view",{staticClass:"weather"},[a("v-uni-text",[e._v(e._s(e.weather.liveData.reporttime)+" 更新")])],1)],1)],1)},o=[]},"60ae":function(e,t,a){var s=a("24fb");t=s(!1),t.push([e.i,".bg-set[data-v-6d4af82a]{position:fixed;width:100%;height:100%;top:0;left:0;z-index:-1}.weather[data-v-6d4af82a]{color:#000;text-align:center}.weatherData[data-v-6d4af82a]{width:%?400?%;height:%?300?%;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around;position:fixed;top:10%;right:0;left:0;margin:auto}",""]),e.exports=t},8804:function(e,t,a){var s=a("60ae");"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("4f06").default;i("1a324bf4",s,!0,{sourceMap:!1,shadowMode:!1})},9381:function(e,t,a){"use strict";a.r(t);var s=a("52f9"),i=a("4fa46");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("d41a");var r,n=a("f0c5"),c=Object(n["a"])(i["default"],s["b"],s["c"],!1,null,"6d4af82a",null,!1,s["a"],r);t["default"]=c.exports},c434:function(e,t,a){e.exports=a.p+"static/img/weather.44d243cb.jpg"},d41a:function(e,t,a){"use strict";var s=a("8804"),i=a.n(s);i.a},d4a2:function(e,t,a){function s(e){this.key=e.key,this.requestConfig={key:e.key,s:"rsx",platform:"WXJS",appname:e.key,sdkversion:"1.2.0",logversion:"2.0"},this.MeRequestConfig={key:e.key,serviceName:"https://restapi.amap.com/rest/me"}}a("4de4"),a("a15b"),a("acd8"),a("ac1f"),a("1276"),s.prototype.getWxLocation=function(e,t){wx.getLocation({type:"gcj02",success:function(e){e=e.longitude+","+e.latitude,wx.setStorage({key:"userLocation",data:e}),t(e)},fail:function(a){wx.getStorage({key:"userLocation",success:function(e){e.data&&t(e.data)}}),e.fail({errCode:"0",errMsg:a.errMsg||""})}})},s.prototype.getMEKeywordsSearch=function(e){if(!e.options)return e.fail({errCode:"0",errMsg:"缺少必要参数"});var t=e.options,a=this.MeRequestConfig,s={key:a.key,s:"rsx",platform:"WXJS",appname:e.key,sdkversion:"1.2.0",logversion:"2.0"};t.layerId&&(s.layerId=t.layerId),t.keywords&&(s.keywords=t.keywords),t.city&&(s.city=t.city),t.filter&&(s.filter=t.filter),t.sortrule&&(s.sortrule=t.sortrule),t.pageNum&&(s.pageNum=t.pageNum),t.pageSize&&(s.pageSize=t.pageSize),t.sig&&(s.sig=t.sig),wx.request({url:a.serviceName+"/cpoint/datasearch/local",data:s,method:"GET",header:{"content-type":"application/json"},success:function(t){(t=t.data)&&t.status&&"1"===t.status&&0===t.code?e.success(t.data):e.fail({errCode:"0",errMsg:t})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getMEIdSearch=function(e){if(!e.options)return e.fail({errCode:"0",errMsg:"缺少必要参数"});var t=e.options,a=this.MeRequestConfig,s={key:a.key,s:"rsx",platform:"WXJS",appname:e.key,sdkversion:"1.2.0",logversion:"2.0"};t.layerId&&(s.layerId=t.layerId),t.id&&(s.id=t.id),t.sig&&(s.sig=t.sig),wx.request({url:a.serviceName+"/cpoint/datasearch/id",data:s,method:"GET",header:{"content-type":"application/json"},success:function(t){(t=t.data)&&t.status&&"1"===t.status&&0===t.code?e.success(t.data):e.fail({errCode:"0",errMsg:t})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getMEPolygonSearch=function(e){if(!e.options)return e.fail({errCode:"0",errMsg:"缺少必要参数"});var t=e.options,a=this.MeRequestConfig,s={key:a.key,s:"rsx",platform:"WXJS",appname:e.key,sdkversion:"1.2.0",logversion:"2.0"};t.layerId&&(s.layerId=t.layerId),t.keywords&&(s.keywords=t.keywords),t.polygon&&(s.polygon=t.polygon),t.filter&&(s.filter=t.filter),t.sortrule&&(s.sortrule=t.sortrule),t.pageNum&&(s.pageNum=t.pageNum),t.pageSize&&(s.pageSize=t.pageSize),t.sig&&(s.sig=t.sig),wx.request({url:a.serviceName+"/cpoint/datasearch/polygon",data:s,method:"GET",header:{"content-type":"application/json"},success:function(t){(t=t.data)&&t.status&&"1"===t.status&&0===t.code?e.success(t.data):e.fail({errCode:"0",errMsg:t})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getMEaroundSearch=function(e){if(!e.options)return e.fail({errCode:"0",errMsg:"缺少必要参数"});var t=e.options,a=this.MeRequestConfig,s={key:a.key,s:"rsx",platform:"WXJS",appname:e.key,sdkversion:"1.2.0",logversion:"2.0"};t.layerId&&(s.layerId=t.layerId),t.keywords&&(s.keywords=t.keywords),t.center&&(s.center=t.center),t.radius&&(s.radius=t.radius),t.filter&&(s.filter=t.filter),t.sortrule&&(s.sortrule=t.sortrule),t.pageNum&&(s.pageNum=t.pageNum),t.pageSize&&(s.pageSize=t.pageSize),t.sig&&(s.sig=t.sig),wx.request({url:a.serviceName+"/cpoint/datasearch/around",data:s,method:"GET",header:{"content-type":"application/json"},success:function(t){(t=t.data)&&t.status&&"1"===t.status&&0===t.code?e.success(t.data):e.fail({errCode:"0",errMsg:t})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getGeo=function(e){var t=this.requestConfig,a=e.options;t={key:this.key,extensions:"all",s:t.s,platform:t.platform,appname:this.key,sdkversion:t.sdkversion,logversion:t.logversion},a.address&&(t.address=a.address),a.city&&(t.city=a.city),a.batch&&(t.batch=a.batch),a.sig&&(t.sig=a.sig),wx.request({url:"https://restapi.amap.com/v3/geocode/geo",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){(t=t.data)&&t.status&&"1"===t.status?e.success(t):e.fail({errCode:"0",errMsg:t})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getRegeo=function(e){function t(t){var s=a.requestConfig;wx.request({url:"https://restapi.amap.com/v3/geocode/regeo",data:{key:a.key,location:t,extensions:"all",s:s.s,platform:s.platform,appname:a.key,sdkversion:s.sdkversion,logversion:s.logversion},method:"GET",header:{"content-type":"application/json"},success:function(a){if(a.data.status&&"1"==a.data.status){a=a.data.regeocode;var s=a.addressComponent,i=[],o=a.roads[0].name+"附近",r=t.split(",")[0],n=t.split(",")[1];if(a.pois&&a.pois[0]){o=a.pois[0].name+"附近";var c=a.pois[0].location;c&&(r=parseFloat(c.split(",")[0]),n=parseFloat(c.split(",")[1]))}s.provice&&i.push(s.provice),s.city&&i.push(s.city),s.district&&i.push(s.district),s.streetNumber&&s.streetNumber.street&&s.streetNumber.number?(i.push(s.streetNumber.street),i.push(s.streetNumber.number)):i.push(a.roads[0].name),i=i.join(""),e.success([{iconPath:e.iconPath,width:e.iconWidth,height:e.iconHeight,name:i,desc:o,longitude:r,latitude:n,id:0,regeocodeData:a}])}else e.fail({errCode:a.data.infocode,errMsg:a.data.info})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})}var a=this;e.location?t(e.location):a.getWxLocation(e,(function(e){t(e)}))},s.prototype.getWeather=function(e){function t(t){var a="base";e.type&&"forecast"==e.type&&(a="all"),wx.request({url:"https://restapi.amap.com/v3/weather/weatherInfo",data:{key:s.key,city:t,extensions:a,s:i.s,platform:i.platform,appname:s.key,sdkversion:i.sdkversion,logversion:i.logversion},method:"GET",header:{"content-type":"application/json"},success:function(t){if(t.data.status&&"1"==t.data.status)if(t.data.lives){if((t=t.data.lives)&&0<t.length){t=t[0];var a={city:{text:"城市",data:t.city},weather:{text:"天气",data:t.weather},temperature:{text:"温度",data:t.temperature},winddirection:{text:"风向",data:t.winddirection+"风"},windpower:{text:"风力",data:t.windpower+"级"},humidity:{text:"湿度",data:t.humidity+"%"}};a.liveData=t,e.success(a)}}else t.data.forecasts&&t.data.forecasts[0]&&e.success({forecast:t.data.forecasts[0]});else e.fail({errCode:t.data.infocode,errMsg:t.data.info})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})}function a(a){wx.request({url:"https://restapi.amap.com/v3/geocode/regeo",data:{key:s.key,location:a,extensions:"all",s:i.s,platform:i.platform,appname:s.key,sdkversion:i.sdkversion,logversion:i.logversion},method:"GET",header:{"content-type":"application/json"},success:function(a){if(a.data.status&&"1"==a.data.status){if(a=a.data.regeocode,a.addressComponent)var s=a.addressComponent.adcode;else a.aois&&0<a.aois.length&&(s=a.aois[0].adcode);t(s)}else e.fail({errCode:a.data.infocode,errMsg:a.data.info})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})}var s=this,i=s.requestConfig;e.city?t(e.city):s.getWxLocation(e,(function(e){a(e)}))},s.prototype.getPoiAround=function(e){function t(t){t={key:a.key,location:t,s:s.s,platform:s.platform,appname:a.key,sdkversion:s.sdkversion,logversion:s.logversion},e.querytypes&&(t.types=e.querytypes),e.querykeywords&&(t.keywords=e.querykeywords),wx.request({url:"https://restapi.amap.com/v3/place/around",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){if(t.data.status&&"1"==t.data.status){if((t=t.data)&&t.pois){for(var a=[],s=0;s<t.pois.length;s++){var i=0==s?e.iconPathSelected:e.iconPath;a.push({latitude:parseFloat(t.pois[s].location.split(",")[1]),longitude:parseFloat(t.pois[s].location.split(",")[0]),iconPath:i,width:22,height:32,id:s,name:t.pois[s].name,address:t.pois[s].address})}e.success({markers:a,poisData:t.pois})}}else e.fail({errCode:t.data.infocode,errMsg:t.data.info})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})}var a=this,s=a.requestConfig;e.location?t(e.location):a.getWxLocation(e,(function(e){t(e)}))},s.prototype.getStaticmap=function(e){function t(t){a.push("location="+t),e.zoom&&a.push("zoom="+e.zoom),e.size&&a.push("size="+e.size),e.scale&&a.push("scale="+e.scale),e.markers&&a.push("markers="+e.markers),e.labels&&a.push("labels="+e.labels),e.paths&&a.push("paths="+e.paths),e.traffic&&a.push("traffic="+e.traffic),t="https://restapi.amap.com/v3/staticmap?"+a.join("&"),e.success({url:t})}var a=[];a.push("key="+this.key);var s=this.requestConfig;a.push("s="+s.s),a.push("platform="+s.platform),a.push("appname="+s.appname),a.push("sdkversion="+s.sdkversion),a.push("logversion="+s.logversion),e.location?t(e.location):this.getWxLocation(e,(function(e){t(e)}))},s.prototype.getInputtips=function(e){var t=Object.assign({},this.requestConfig);e.location&&(t.location=e.location),e.keywords&&(t.keywords=e.keywords),e.type&&(t.type=e.type),e.city&&(t.city=e.city),e.citylimit&&(t.citylimit=e.citylimit),wx.request({url:"https://restapi.amap.com/v3/assistant/inputtips",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.tips&&e.success({tips:t.data.tips})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getDrivingRoute=function(e){var t=Object.assign({},this.requestConfig);e.origin&&(t.origin=e.origin),e.destination&&(t.destination=e.destination),e.strategy&&(t.strategy=e.strategy),e.waypoints&&(t.waypoints=e.waypoints),e.avoidpolygons&&(t.avoidpolygons=e.avoidpolygons),e.avoidroad&&(t.avoidroad=e.avoidroad),wx.request({url:"https://restapi.amap.com/v3/direction/driving",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.route&&e.success({paths:t.data.route.paths,taxi_cost:t.data.route.taxi_cost||""})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getWalkingRoute=function(e){var t=Object.assign({},this.requestConfig);e.origin&&(t.origin=e.origin),e.destination&&(t.destination=e.destination),wx.request({url:"https://restapi.amap.com/v3/direction/walking",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.route&&e.success({paths:t.data.route.paths})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getTransitRoute=function(e){var t=Object.assign({},this.requestConfig);e.origin&&(t.origin=e.origin),e.destination&&(t.destination=e.destination),e.strategy&&(t.strategy=e.strategy),e.city&&(t.city=e.city),e.cityd&&(t.cityd=e.cityd),wx.request({url:"https://restapi.amap.com/v3/direction/transit/integrated",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.route&&(t=t.data.route,e.success({distance:t.distance||"",taxi_cost:t.taxi_cost||"",transits:t.transits}))},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},s.prototype.getRidingRoute=function(e){var t=Object.assign({},this.requestConfig);e.origin&&(t.origin=e.origin),e.destination&&(t.destination=e.destination),wx.request({url:"https://restapi.amap.com/v3/direction/riding",data:t,method:"GET",header:{"content-type":"application/json"},success:function(t){t&&t.data&&t.data.route&&e.success({paths:t.data.route.paths})},fail:function(t){e.fail({errCode:"0",errMsg:t.errMsg||""})}})},e.exports.AMapWX=s}}]);