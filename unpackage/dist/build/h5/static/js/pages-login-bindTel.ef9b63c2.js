(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-bindTel"],{"010f":function(e,t,n){var o=n("936d");"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("4f06").default;i("e96350f0",o,!0,{sourceMap:!1,shadowMode:!1})},"048f":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.wechatcode=void 0;var o=n("4348"),i=function(t){return e.log(t),o.myRequest({url:"/login/getSMSCodeByWxTelephone",data:t})};t.wechatcode=i}).call(this,n("5a52")["default"])},"1fb7":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("048f"),i=n("9d26"),a=n("6a00"),c=n("7be2"),u={data:function(){return{mobile:"",code:"",errorMessage:"",codeText:"发送验证码",customStyle:{marginTop:"20px",color:"#ffffff",background:"#86B0D4"},seconds:60,weixinInfor:{}}},methods:{codeChange:function(e){this.codeText=e},getCode:function(){var t=this;""!=this.mobile?/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.mobile)?this.$refs.uCode.canGetCode?(uni.showLoading({title:"正在获取验证码"}),setTimeout((function(){uni.hideLoading(),t.$refs.uCode.start(),(0,o.wechatcode)({areaCode:"86",telephone:t.mobile}).then((function(t){e.log(t),t.data.code,uni.showToast({title:t.data.msg,icon:"none"})})).catch((function(t){e.log(t)}))}),500)):this.$u.toast("倒计时结束后再发送"):uni.showToast({title:"请填写正确手机号码",icon:"none"}):uni.showToast({title:"手机号码不能为空",icon:"none"})},bindTel:function(){var t=this;this.mobile?/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.mobile)?this.code?(e.log(this.weixinInfor),e.log(this.weixinInfor.unionid),(0,i.wechatBind)({areaCode:"86",telephone:this.mobile,smsVerCode:this.code,wxUser:{unionId:this.weixinInfor.unionid,sex:this.weixinInfor.sex,nickName:this.weixinInfor.nickname,headImgUrl:this.weixinInfor.headimgurl,country:this.weixinInfor.country,province:this.weixinInfor.province,city:this.weixinInfor.city,language:this.weixinInfor.language}}).then((function(n){e.log(n),e.log(n.data),e.log(n.data.code),0==n.data.code?(e.log(t.weixinInfor.unionid),(0,a.wechatLogin)({unionId:t.weixinInfor.unionid}).then((function(n){e.log(n),0==n.data.code?Array.isArray(n.data.object)?uni.navigateTo({url:"/pages/login/accountLogin?data="+encodeURIComponent(JSON.stringify(n.data.object))}):(0,c.loginTip)(n,t.$store.state.PagesUrl,t.$store.state.PagesType):e.log(err)})).catch((function(t){e.log(t)}))):uni.showToast({title:n.data.msg,icon:"none"})})).catch((function(t){e.log(t)}))):uni.showToast({title:"验证码不能为空",icon:"none"}):uni.showToast({title:"请填写正确手机号码",icon:"none"}):uni.showToast({title:"手机号码不能为空",icon:"none"})}},onLoad:function(t){e.log(t),e.log(t.weixinInfor);var n=t.weixinInfor;delete n.privilege,this.weixinInfor=JSON.parse(n),e.log(this.weixinInfor)}};t.default=u}).call(this,n("5a52")["default"])},"37a7":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var o={uField:n("955a").default,uButton:n("4eef").default,uVerificationCode:n("6d82").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{},[n("v-uni-view",{staticClass:"bindTel"},[n("u-field",{attrs:{label:"手机号",placeholder:"请填写手机号",icon:"phone"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),n("u-field",{attrs:{label:"验证码",icon:"photo",placeholder:"请填写验证码"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}},[n("u-button",{attrs:{slot:"right",size:"mini"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode.apply(void 0,arguments)}},slot:"right"},[e._v(e._s(e.codeText))])],1),n("u-verification-code",{ref:"uCode",attrs:{seconds:e.seconds},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.codeChange.apply(void 0,arguments)}}}),n("v-uni-view",{staticStyle:{padding:"0 30rpx"}},[n("u-button",{attrs:{"custom-style":e.customStyle},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.bindTel.apply(void 0,arguments)}}},[e._v("绑定")])],1)],1)],1)},a=[]},"425b":function(e,t,n){"use strict";n.r(t);var o=n("1fb7"),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},"5dc0":function(e,t,n){"use strict";n.r(t);var o=n("37a7"),i=n("425b");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("fe47");var c,u=n("f0c5"),d=Object(u["a"])(i["default"],o["b"],o["c"],!1,null,"3a8ae8d5",null,!1,o["a"],c);t["default"]=d.exports},"6a00":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.wechatLogin=void 0;var o=n("4348"),i=function(t){return e.log(t),o.myRequest({url:"/login/loginForWx",method:"POST",data:t})};t.wechatLogin=i}).call(this,n("5a52")["default"])},"7be2":function(e,t,n){"use strict";(function(t){var o=n("4ea4"),i=(n("2189"),o(n("008c")));e.exports={loginTip:function(e,n,o){switch(t.log(e),t.log(n),t.log(o),uni.setStorageSync("auditstatus",e.data.object.auditStatus),uni.setStorageSync("token",e.data.object.token),uni.setStorageSync("doctorId",e.data.object.doctorId),i.default.dispatch("WEBSOCKET_INIT",e.data.object.doctorId),e.data.object.auditStatus){case"NP":uni.navigateTo({url:"/pages/PersonalInfor/auditInfor",animationType:"pop-in"});break;case"ZC":uni.navigateTo({url:"/pages/PersonalInfor/auditInfor",animationType:"pop-in"});break;default:switch(o){case"1":uni.switchTab({url:n,animationType:"pop-in"});break;case"2":uni.navigateTo({url:n,animationType:"pop-in"});break;default:uni.switchTab({url:"/pages/index/index",animationType:"pop-in"});break}break}}}}).call(this,n("5a52")["default"])},"936d":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,"uni-page-body[data-v-3a8ae8d5]{height:100%;background-color:#fff}.bindTel[data-v-3a8ae8d5]{margin-top:%?40?%}body.?%PAGE?%[data-v-3a8ae8d5]{background-color:#fff}",""]),e.exports=t},"9d26":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.wechatBind=void 0;var o=n("4348"),i=function(t){return e.log(t),o.myRequest({url:"/register/bindWxToDoctor",method:"POST",data:t})};t.wechatBind=i}).call(this,n("5a52")["default"])},fe47:function(e,t,n){"use strict";var o=n("010f"),i=n.n(o);i.a}}]);